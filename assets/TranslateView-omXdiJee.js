import{i as xr,r as G,c as K,d as J,u as oe,a as Pn,w as lt,o as R,b as H,e as I,f as X,g as k,P as Te,h as Et,n as Li,j as yr,m as Z,t as hn,k as Xe,l as Ge,p as Le,q as Ve,s as D,v as At,x as dn,y as rt,z as ut,A as br,B as Mi,C as re,D as $,E as pe,F as tn,G as qe,H as ge,I as fe,J as ae,K as Tt,L as kr,M as wr,N as Ri,O as Di,_ as et,Q as Bi,R as Ni,X as Oi}from"./index-yq9kKirz.js";import{u as $i,c as ji}from"./openai-BtqyijjU.js";import{u as Vi}from"./glossaryStore-CIolIrcr.js";import{_ as nt,a as bt,b as Dt,c as Bt}from"./CardTitle.vue_vue_type_script_setup_true_lang-BTLI79eV.js";function qi(e,t=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY){return Math.min(n,Math.max(t,e))}function Hi(e){const t=xr({dir:G("ltr")});return K(()=>e?.value||t.dir?.value||"ltr")}function Ui(e){const t=xr({nonce:G()});return K(()=>e?.value||t.nonce?.value)}const at=100,[Wi,Yi]=Et("ProgressRoot"),_t=e=>typeof e=="number";function Gi(e,t){return yr(e)||_t(e)&&!Number.isNaN(e)&&e<=t&&e>=0?e:(console.error(`Invalid prop \`value\` of value \`${e}\` supplied to \`ProgressRoot\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${at} if no \`max\` prop is set)
  - \`null\`  or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`),null)}function Qi(e){return _t(e)&&!Number.isNaN(e)&&e>0?e:(console.error(`Invalid prop \`max\` of value \`${e}\` supplied to \`ProgressRoot\`. Only numbers greater than 0 are valid max values. Defaulting to \`${at}\`.`),at)}var Xi=J({__name:"ProgressRoot",props:{modelValue:{type:[Number,null],required:!1},max:{type:Number,required:!1,default:at},getValueLabel:{type:Function,required:!1,default:(e,t)=>_t(e)?`${Math.round(e/t*at)}%`:void 0},getValueText:{type:Function,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["update:modelValue","update:max"],setup(e,{emit:t}){const n=e,r=t;oe();const i=Pn(n,"modelValue",r,{passive:n.modelValue===void 0}),o=Pn(n,"max",r,{passive:n.max===void 0});lt(()=>i.value,async a=>{const s=Gi(a,n.max);s!==a&&(await Li(),i.value=s)},{immediate:!0}),lt(()=>n.max,a=>{const s=Qi(n.max);s!==a&&(o.value=s)},{immediate:!0});const l=K(()=>yr(i.value)?"indeterminate":i.value===o.value?"complete":"loading");return Yi({modelValue:i,max:o,progressState:l}),(a,s)=>(R(),H(k(Te),{"as-child":a.asChild,as:a.as,"aria-valuemax":k(o),"aria-valuemin":0,"aria-valuenow":_t(k(i))?k(i):void 0,"aria-valuetext":a.getValueText?.(k(i),k(o)),"aria-label":a.getValueLabel(k(i),k(o)),role:"progressbar","data-state":l.value,"data-value":k(i)??void 0,"data-max":k(o)},{default:I(()=>[X(a.$slots,"default",{modelValue:k(i)})]),_:3},8,["as-child","as","aria-valuemax","aria-valuenow","aria-valuetext","aria-label","data-state","data-value","data-max"]))}}),Ji=Xi,Ki=J({__name:"ProgressIndicator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e,n=Wi();return oe(),(r,i)=>(R(),H(k(Te),Z(t,{"data-state":k(n).progressState.value,"data-value":k(n).modelValue?.value??void 0,"data-max":k(n).max.value}),{default:I(()=>[X(r.$slots,"default")]),_:3},16,["data-state","data-value","data-max"]))}}),Zi=Ki;const[de,eo]=Et("ScrollAreaRoot");var to=J({__name:"ScrollAreaRoot",props:{type:{type:String,required:!1,default:"hover"},dir:{type:String,required:!1},scrollHideDelay:{type:Number,required:!1,default:600},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e,{expose:t}){const n=e,r=G(0),i=G(0),o=G(),l=G(),a=G(),s=G(),u=G(!1),f=G(!1),{type:c,dir:d,scrollHideDelay:h}=hn(n),x=Hi(d);function _(){o.value?.scrollTo({top:0})}function E(){o.value?.scrollTo({top:0,left:0})}t({viewport:o,scrollTop:_,scrollTopLeft:E});const{forwardRef:g,currentElement:C}=oe();return eo({type:c,dir:x,scrollHideDelay:h,scrollArea:C,viewport:o,onViewportChange:b=>{o.value=b||void 0},content:l,onContentChange:b=>{l.value=b},scrollbarX:a,scrollbarXEnabled:u,scrollbarY:s,scrollbarYEnabled:f,onScrollbarXChange:b=>{a.value=b||void 0},onScrollbarYChange:b=>{s.value=b||void 0},onScrollbarXEnabledChange:b=>{u.value=b},onScrollbarYEnabledChange:b=>{f.value=b},onCornerWidthChange:b=>{r.value=b},onCornerHeightChange:b=>{i.value=b}}),(b,M)=>(R(),H(k(Te),{ref:k(g),"as-child":n.asChild,as:b.as,dir:k(x),style:Xe({position:"relative","--reka-scroll-area-corner-width":`${r.value}px`,"--reka-scroll-area-corner-height":`${i.value}px`})},{default:I(()=>[X(b.$slots,"default")]),_:3},8,["as-child","as","dir","style"]))}}),no=to,ro=J({__name:"ScrollAreaCornerImpl",setup(e){const t=de(),n=G(0),r=G(0),i=K(()=>!!n.value&&!!r.value);function o(){const a=t.scrollbarX.value?.offsetHeight||0;t.onCornerHeightChange(a),r.value=a}function l(){const a=t.scrollbarY.value?.offsetWidth||0;t.onCornerWidthChange(a),n.value=a}return Ge(t.scrollbarX.value,o),Ge(t.scrollbarY.value,l),lt(()=>t.scrollbarX.value,o),lt(()=>t.scrollbarY.value,l),(a,s)=>i.value?(R(),H(k(Te),Z({key:0,style:{width:`${n.value}px`,height:`${r.value}px`,position:"absolute",right:k(t).dir.value==="ltr"?0:void 0,left:k(t).dir.value==="rtl"?0:void 0,bottom:0}},a.$parent?.$props),{default:I(()=>[X(a.$slots,"default")]),_:3},16,["style"])):Le("v-if",!0)}}),io=ro,oo=J({__name:"ScrollAreaCorner",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e,{forwardRef:n}=oe(),r=de(),i=K(()=>!!r.scrollbarX.value&&!!r.scrollbarY.value),o=K(()=>r.type.value!=="scroll"&&i.value);return(l,a)=>o.value?(R(),H(io,Z({key:0},t,{ref:k(n)}),{default:I(()=>[X(l.$slots,"default")]),_:3},16)):Le("v-if",!0)}}),lo=oo;function _r(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function It(e){const t=vr(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function vr(e,t){const n=e/t;return Number.isNaN(n)?0:n}function ao(e,t=()=>{}){let n={left:e.scrollLeft,top:e.scrollTop},r=0;return(function i(){const o={left:e.scrollLeft,top:e.scrollTop},l=n.left!==o.left,a=n.top!==o.top;(l||a)&&t(),n=o,r=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(r)}function Fn(e,t,n="ltr"){const r=It(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-i,l=t.content-t.viewport,a=o-r,s=n==="ltr"?[0,l]:[l*-1,0],u=qi(e,s[0],s[1]);return _r([0,l],[0,a])(u)}function pt(e){return e?Number.parseInt(e,10):0}function so(e,t,n,r="ltr"){const i=It(n),o=i/2,l=t||o,a=i-l,s=n.scrollbar.paddingStart+l,u=n.scrollbar.size-n.scrollbar.paddingEnd-a,f=n.content-n.viewport,c=r==="ltr"?[0,f]:[f*-1,0];return _r([s,u],c)(e)}function Ln(e,t){return e>0&&e<t}var uo=J({__name:"ScrollAreaScrollbarX",setup(e){const t=de(),n=zt(),{forwardRef:r,currentElement:i}=oe();Ve(()=>{i.value&&t.onScrollbarXChange(i.value)});const o=K(()=>n.sizes.value);return(l,a)=>(R(),H(Sr,{ref:k(r),"is-horizontal":!0,"data-orientation":"horizontal",style:Xe({bottom:0,left:k(t).dir.value==="rtl"?"var(--reka-scroll-area-corner-width)":0,right:k(t).dir.value==="ltr"?"var(--reka-scroll-area-corner-width)":0,"--reka-scroll-area-thumb-width":o.value?`${k(It)(o.value)}px`:void 0}),onOnDragScroll:a[0]||(a[0]=s=>k(n).onDragScroll(s.x))},{default:I(()=>[X(l.$slots,"default")]),_:3},8,["style"]))}}),co=uo,fo=J({__name:"ScrollAreaScrollbarY",setup(e){const t=de(),n=zt(),{forwardRef:r,currentElement:i}=oe();Ve(()=>{i.value&&t.onScrollbarYChange(i.value)});const o=K(()=>n.sizes.value);return(l,a)=>(R(),H(Sr,{ref:k(r),"is-horizontal":!1,"data-orientation":"vertical",style:Xe({top:0,right:k(t).dir.value==="ltr"?0:void 0,left:k(t).dir.value==="rtl"?0:void 0,bottom:"var(--reka-scroll-area-corner-height)","--reka-scroll-area-thumb-height":o.value?`${k(It)(o.value)}px`:void 0}),onOnDragScroll:a[0]||(a[0]=s=>k(n).onDragScroll(s.y))},{default:I(()=>[X(l.$slots,"default")]),_:3},8,["style"]))}}),ho=fo,po=J({__name:"ScrollAreaScrollbarAuto",props:{forceMount:{type:Boolean,required:!1}},setup(e){const t=de(),n=ct(),{forwardRef:r}=oe(),i=G(!1),o=dn(()=>{if(t.viewport.value){const l=t.viewport.value.offsetWidth<t.viewport.value.scrollWidth,a=t.viewport.value.offsetHeight<t.viewport.value.scrollHeight;i.value=n.isHorizontal.value?l:a}},10);return Ve(()=>o()),Ge(t.viewport,o),Ge(t.content,o),(l,a)=>(R(),H(k(At),{present:l.forceMount||i.value},{default:I(()=>[D(mn,Z(l.$attrs,{ref:k(r),"data-state":i.value?"visible":"hidden"}),{default:I(()=>[X(l.$slots,"default")]),_:3},16,["data-state"])]),_:3},8,["present"]))}}),pn=po,mo=J({inheritAttrs:!1,__name:"ScrollAreaScrollbarGlimpse",props:{forceMount:{type:Boolean,required:!1}},setup(e){const t=de(),n=ct(),{forwardRef:r}=oe(),{state:i,dispatch:o}=br("hidden",{hidden:{POINTER_ENTER:"glimpse",SCROLL:"scrolling"},glimpse:{HIDE:"hidden",POINTER_LEAVE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"glimpse"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}}),l=K(()=>i.value!=="hidden");function a(){o("POINTER_ENTER")}function s(){o("POINTER_LEAVE")}const u=dn(()=>o("SCROLL_END"),100);return rt(f=>{if(i.value==="glimpse"){const c=window.setTimeout(()=>o("HIDE"),t.scrollHideDelay.value);f(()=>{window.clearTimeout(c)})}}),rt(f=>{if(i.value==="idle"){const c=window.setTimeout(()=>o("HIDE"),t.scrollHideDelay.value);f(()=>{window.clearTimeout(c)})}}),rt(f=>{const c=t.viewport.value,d=n.isHorizontal.value?"scrollLeft":"scrollTop";if(c){let h=c[d];const x=()=>{const _=c[d];h!==_&&(o("SCROLL"),u()),h=_};c.addEventListener("scroll",x),f(()=>{c.removeEventListener("scroll",x)})}}),Ve(()=>{const f=t.scrollArea.value;f&&(f.addEventListener("pointerenter",a),f.addEventListener("pointerleave",s))}),ut(()=>{const f=t.scrollArea.value;f&&(f.removeEventListener("pointerenter",a),f.removeEventListener("pointerleave",s))}),(f,c)=>(R(),H(k(At),{present:f.forceMount||l.value},{default:I(()=>[D(pn,Z(f.$attrs,{ref:k(r),"data-state":l.value?"visible":"hidden"}),{default:I(()=>[X(f.$slots,"default")]),_:3},16,["data-state"])]),_:3},8,["present"]))}}),go=mo,xo=J({inheritAttrs:!1,__name:"ScrollAreaScrollbarHover",props:{forceMount:{type:Boolean,required:!1}},setup(e){const t=de(),{forwardRef:n}=oe();let r;const i=G(!1);function o(){window.clearTimeout(r),i.value=!0}function l(){r=window.setTimeout(()=>{i.value=!1},t.scrollHideDelay.value)}return Ve(()=>{const a=t.scrollArea.value;a&&(a.addEventListener("pointerenter",o),a.addEventListener("pointerleave",l))}),ut(()=>{const a=t.scrollArea.value;a&&(window.clearTimeout(r),a.removeEventListener("pointerenter",o),a.removeEventListener("pointerleave",l))}),(a,s)=>(R(),H(k(At),{present:a.forceMount||i.value},{default:I(()=>[D(pn,Z(a.$attrs,{ref:k(n),"data-state":i.value?"visible":"hidden"}),{default:I(()=>[X(a.$slots,"default")]),_:3},16,["data-state"])]),_:3},8,["present"]))}}),yo=xo,bo=J({__name:"ScrollAreaScrollbarScroll",props:{forceMount:{type:Boolean,required:!1}},setup(e){const t=de(),n=ct(),{forwardRef:r}=oe(),{state:i,dispatch:o}=br("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}}),l=K(()=>i.value!=="hidden");rt(s=>{if(i.value==="idle"){const u=window.setTimeout(()=>o("HIDE"),t.scrollHideDelay.value);s(()=>{window.clearTimeout(u)})}});const a=dn(()=>o("SCROLL_END"),100);return rt(s=>{const u=t.viewport.value,f=n.isHorizontal.value?"scrollLeft":"scrollTop";if(u){let c=u[f];const d=()=>{const h=u[f];c!==h&&(o("SCROLL"),a()),c=h};u.addEventListener("scroll",d),s(()=>{u.removeEventListener("scroll",d)})}}),(s,u)=>(R(),H(k(At),{present:s.forceMount||l.value},{default:I(()=>[D(mn,Z(s.$attrs,{ref:k(r),"data-state":l.value?"visible":"hidden"}),{default:I(()=>[X(s.$slots,"default")]),_:3},16,["data-state"])]),_:3},8,["present"]))}}),ko=bo;const[ct,wo]=Et("ScrollAreaScrollbar");var _o=J({inheritAttrs:!1,__name:"ScrollAreaScrollbar",props:{orientation:{type:String,required:!1,default:"vertical"},forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(e){const t=e,{forwardRef:n}=oe(),r=de(),i=K(()=>t.orientation==="horizontal");lt(i,()=>{i.value?r.onScrollbarXEnabledChange(!0):r.onScrollbarYEnabledChange(!0)},{immediate:!0}),ut(()=>{r.onScrollbarXEnabledChange(!1),r.onScrollbarYEnabledChange(!1)});const{orientation:o,forceMount:l,asChild:a,as:s}=hn(t);return wo({orientation:o,forceMount:l,isHorizontal:i,as:s,asChild:a}),(u,f)=>k(r).type.value==="hover"?(R(),H(yo,Z({key:0},u.$attrs,{ref:k(n),"force-mount":k(l)}),{default:I(()=>[X(u.$slots,"default")]),_:3},16,["force-mount"])):k(r).type.value==="scroll"?(R(),H(ko,Z({key:1},u.$attrs,{ref:k(n),"force-mount":k(l)}),{default:I(()=>[X(u.$slots,"default")]),_:3},16,["force-mount"])):k(r).type.value==="glimpse"?(R(),H(go,Z({key:2},u.$attrs,{ref:k(n),"force-mount":k(l)}),{default:I(()=>[X(u.$slots,"default")]),_:3},16,["force-mount"])):k(r).type.value==="auto"?(R(),H(pn,Z({key:3},u.$attrs,{ref:k(n),"force-mount":k(l)}),{default:I(()=>[X(u.$slots,"default")]),_:3},16,["force-mount"])):k(r).type.value==="always"?(R(),H(mn,Z({key:4},u.$attrs,{ref:k(n),"data-state":"visible"}),{default:I(()=>[X(u.$slots,"default")]),_:3},16)):Le("v-if",!0)}}),vo=_o;const[zt,So]=Et("ScrollAreaScrollbarVisible");var Co=J({__name:"ScrollAreaScrollbarVisible",setup(e){const t=de(),n=ct(),{forwardRef:r}=oe(),i=G({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),o=K(()=>{const g=vr(i.value.viewport,i.value.content);return g>0&&g<1}),l=G(),a=G(0);function s(g,C){if(h.value){const b=t.viewport.value.scrollLeft+g.deltaY;t.viewport.value.scrollLeft=b,Ln(b,C)&&g.preventDefault()}else{const b=t.viewport.value.scrollTop+g.deltaY;t.viewport.value.scrollTop=b,Ln(b,C)&&g.preventDefault()}}function u(g,C){h.value?a.value=C.x:a.value=C.y}function f(g){a.value=0}function c(g){i.value=g}function d(g,C){return so(g,a.value,i.value,C)}const h=K(()=>n.isHorizontal.value);function x(g){h.value?t.viewport.value.scrollLeft=d(g,t.dir.value):t.viewport.value.scrollTop=d(g)}function _(){if(h.value){if(t.viewport.value&&l.value){const g=t.viewport.value.scrollLeft,C=Fn(g,i.value,t.dir.value);l.value.style.transform=`translate3d(${C}px, 0, 0)`}}else if(t.viewport.value&&l.value){const g=t.viewport.value.scrollTop,C=Fn(g,i.value);l.value.style.transform=`translate3d(0, ${C}px, 0)`}}function E(g){l.value=g}return So({sizes:i,hasThumb:o,handleWheelScroll:s,handleThumbDown:u,handleThumbUp:f,handleSizeChange:c,onThumbPositionChange:_,onThumbChange:E,onDragScroll:x}),(g,C)=>h.value?(R(),H(co,Z({key:0},g.$attrs,{ref:k(r)}),{default:I(()=>[X(g.$slots,"default")]),_:3},16)):(R(),H(ho,Z({key:1},g.$attrs,{ref:k(r)}),{default:I(()=>[X(g.$slots,"default")]),_:3},16))}}),mn=Co,Eo=J({__name:"ScrollAreaScrollbarImpl",props:{isHorizontal:{type:Boolean,required:!0}},emits:["onDragScroll","onWheelScroll","onThumbPointerDown"],setup(e,{emit:t}){const n=e,r=t,i=de(),o=zt(),l=ct(),{forwardRef:a,currentElement:s}=oe(),u=G(""),f=G();function c(g){if(f.value){const C=g.clientX-f.value?.left,b=g.clientY-f.value?.top;r("onDragScroll",{x:C,y:b})}}function d(g){g.button===0&&(g.target.setPointerCapture(g.pointerId),f.value=s.value.getBoundingClientRect(),u.value=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",i.viewport&&(i.viewport.value.style.scrollBehavior="auto"),c(g))}function h(g){c(g)}function x(g){const C=g.target;C.hasPointerCapture(g.pointerId)&&C.releasePointerCapture(g.pointerId),document.body.style.webkitUserSelect=u.value,i.viewport&&(i.viewport.value.style.scrollBehavior=""),f.value=void 0}function _(g){const C=g.target,b=s.value?.contains(C),M=o.sizes.value.content-o.sizes.value.viewport;b&&o.handleWheelScroll(g,M)}Ve(()=>{document.addEventListener("wheel",_,{passive:!1})}),ut(()=>{document.removeEventListener("wheel",_)});function E(){s.value&&(n.isHorizontal?o.handleSizeChange({content:i.viewport.value?.scrollWidth??0,viewport:i.viewport.value?.offsetWidth??0,scrollbar:{size:s.value.clientWidth??0,paddingStart:pt(getComputedStyle(s.value).paddingLeft),paddingEnd:pt(getComputedStyle(s.value).paddingRight)}}):o.handleSizeChange({content:i.viewport.value?.scrollHeight??0,viewport:i.viewport.value?.offsetHeight??0,scrollbar:{size:s.value?.clientHeight??0,paddingStart:pt(getComputedStyle(s.value).paddingTop),paddingEnd:pt(getComputedStyle(s.value).paddingBottom)}}),o.onThumbPositionChange())}return Ge(s,E),Ge(i.content,E),(g,C)=>(R(),H(k(Te),{ref:k(a),style:{position:"absolute"},"data-scrollbarimpl":"",as:k(l).as.value,"as-child":k(l).asChild.value,onPointerdown:d,onPointermove:h,onPointerup:x},{default:I(()=>[X(g.$slots,"default")]),_:3},8,["as","as-child"]))}}),Sr=Eo,Ao=J({__name:"ScrollAreaThumb",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e,n=de(),r=zt();function i(d){const x=d.target.getBoundingClientRect(),_=d.clientX-x.left,E=d.clientY-x.top;r.handleThumbDown(d,{x:_,y:E})}function o(d){r.handleThumbUp(d)}const{forwardRef:l,currentElement:a}=oe(),s=G(),u=K(()=>n.viewport.value);function f(){if(!s.value){const d=ao(u.value,r.onThumbPositionChange);s.value=d,r.onThumbPositionChange()}}const c=K(()=>r.sizes.value);return Mi(c,()=>{r.onThumbChange(a.value),u.value&&(r.onThumbPositionChange(),u.value.addEventListener("scroll",f))}),ut(()=>{u.value.removeEventListener("scroll",f),n.viewport.value?.removeEventListener("scroll",f)}),(d,h)=>(R(),H(k(Te),{ref:k(l),"data-state":k(r).hasThumb?"visible":"hidden",style:{width:"var(--reka-scroll-area-thumb-width)",height:"var(--reka-scroll-area-thumb-height)"},"as-child":t.asChild,as:d.as,onPointerdown:i,onPointerup:o},{default:I(()=>[X(d.$slots,"default")]),_:3},8,["data-state","as-child","as"]))}}),To=Ao,Io=J({inheritAttrs:!1,__name:"ScrollAreaViewport",props:{nonce:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e,{expose:t}){const n=e,{nonce:r}=hn(n),i=Ui(r),o=de(),l=G();Ve(()=>{o.onViewportChange(l.value),o.onContentChange(s.value)}),t({viewportElement:l});const{forwardRef:a,currentElement:s}=oe();return(u,f)=>(R(),re(tn,null,[$("div",Z({ref_key:"viewportElement",ref:l,"data-reka-scroll-area-viewport":"",style:{overflowX:k(o).scrollbarXEnabled.value?"scroll":"hidden",overflowY:k(o).scrollbarYEnabled.value?"scroll":"hidden"}},u.$attrs,{tabindex:0}),[D(k(Te),{ref:k(a),style:Xe({minWidth:k(o).scrollbarXEnabled.value?"fit-content":void 0}),"as-child":n.asChild,as:u.as},{default:I(()=>[X(u.$slots,"default")]),_:3},8,["style","as-child","as"])],16),D(k(Te),{as:"style",nonce:k(i)},{default:I(()=>f[0]||(f[0]=[pe(" /* Hide scrollbars cross-browser and enable momentum scroll for touch devices */ [data-reka-scroll-area-viewport] { scrollbar-width:none; -ms-overflow-style:none; -webkit-overflow-scrolling:touch; } [data-reka-scroll-area-viewport]::-webkit-scrollbar { display:none; } ")])),_:1,__:[0]},8,["nonce"])],64))}}),zo=Io;const Cr=qe("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const Mn=qe("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);const vt=qe("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const Rn=qe("languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);const Po=qe("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]);const Fo=qe("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);const Lo=qe("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);function Dn(e){if(e)throw e}function Er(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Nt,Bn;function Mo(){if(Bn)return Nt;Bn=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(u){return typeof Array.isArray=="function"?Array.isArray(u):t.call(u)==="[object Array]"},o=function(u){if(!u||t.call(u)!=="[object Object]")return!1;var f=e.call(u,"constructor"),c=u.constructor&&u.constructor.prototype&&e.call(u.constructor.prototype,"isPrototypeOf");if(u.constructor&&!f&&!c)return!1;var d;for(d in u);return typeof d>"u"||e.call(u,d)},l=function(u,f){n&&f.name==="__proto__"?n(u,f.name,{enumerable:!0,configurable:!0,value:f.newValue,writable:!0}):u[f.name]=f.newValue},a=function(u,f){if(f==="__proto__")if(e.call(u,f)){if(r)return r(u,f).value}else return;return u[f]};return Nt=function s(){var u,f,c,d,h,x,_=arguments[0],E=1,g=arguments.length,C=!1;for(typeof _=="boolean"&&(C=_,_=arguments[1]||{},E=2),(_==null||typeof _!="object"&&typeof _!="function")&&(_={});E<g;++E)if(u=arguments[E],u!=null)for(f in u)c=a(_,f),d=a(u,f),_!==d&&(C&&d&&(o(d)||(h=i(d)))?(h?(h=!1,x=c&&i(c)?c:[]):x=c&&o(c)?c:{},l(_,{name:f,newValue:s(C,x,d)})):typeof d<"u"&&l(_,{name:f,newValue:d}));return _},Nt}var Ro=Mo();const Ot=Er(Ro);function nn(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Do(){const e=[],t={run:n,use:r};return t;function n(...i){let o=-1;const l=i.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);a(null,...i);function a(s,...u){const f=e[++o];let c=-1;if(s){l(s);return}for(;++c<i.length;)(u[c]===null||u[c]===void 0)&&(u[c]=i[c]);i=u,f?Bo(f,a)(...u):l(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function Bo(e,t){let n;return r;function r(...l){const a=e.length>l.length;let s;a&&l.push(i);try{s=e.apply(this,l)}catch(u){const f=u;if(a&&n)throw f;return i(f)}a||(s&&s.then&&typeof s.then=="function"?s.then(o,i):s instanceof Error?i(s):o(s))}function i(l,...a){n||(n=!0,t(l,...a))}function o(l){i(null,l)}}function it(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Nn(e.position):"start"in e||"end"in e?Nn(e):"line"in e||"column"in e?rn(e):""}function rn(e){return On(e&&e.line)+":"+On(e&&e.column)}function Nn(e){return rn(e&&e.start)+"-"+rn(e&&e.end)}function On(e){return e&&typeof e=="number"?e:1}class ue extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},l=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof t=="string"?i=t:!o.cause&&t&&(l=!0,i=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof r=="string"){const s=r.indexOf(":");s===-1?o.ruleId=r:(o.source=r.slice(0,s),o.ruleId=r.slice(s+1))}if(!o.place&&o.ancestors&&o.ancestors){const s=o.ancestors[o.ancestors.length-1];s&&(o.place=s.position)}const a=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=a?a.line:void 0,this.name=it(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=l&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}ue.prototype.file="";ue.prototype.name="";ue.prototype.reason="";ue.prototype.message="";ue.prototype.stack="";ue.prototype.column=void 0;ue.prototype.line=void 0;ue.prototype.ancestors=void 0;ue.prototype.cause=void 0;ue.prototype.fatal=void 0;ue.prototype.place=void 0;ue.prototype.ruleId=void 0;ue.prototype.source=void 0;const _e={basename:No,dirname:Oo,extname:$o,join:jo,sep:"/"};function No(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');ft(e);let n=0,r=-1,i=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let l=-1,a=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else l<0&&(o=!0,l=i+1),a>-1&&(e.codePointAt(i)===t.codePointAt(a--)?a<0&&(r=i):(a=-1,r=l));return n===r?r=l:r<0&&(r=e.length),e.slice(n,r)}function Oo(e){if(ft(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function $o(e){ft(e);let t=e.length,n=-1,r=0,i=-1,o=0,l;for(;t--;){const a=e.codePointAt(t);if(a===47){if(l){r=t+1;break}continue}n<0&&(l=!0,n=t+1),a===46?i<0?i=t:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function jo(...e){let t=-1,n;for(;++t<e.length;)ft(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":Vo(n)}function Vo(e){ft(e);const t=e.codePointAt(0)===47;let n=qo(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function qo(e,t){let n="",r=0,i=-1,o=0,l=-1,a,s;for(;++l<=e.length;){if(l<e.length)a=e.codePointAt(l);else{if(a===47)break;a=47}if(a===47){if(!(i===l-1||o===1))if(i!==l-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(s=n.lastIndexOf("/"),s!==n.length-1){s<0?(n="",r=0):(n=n.slice(0,s),r=n.length-1-n.lastIndexOf("/")),i=l,o=0;continue}}else if(n.length>0){n="",r=0,i=l,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,l):n=e.slice(i+1,l),r=l-i-1;i=l,o=0}else a===46&&o>-1?o++:o=-1}return n}function ft(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Ho={cwd:Uo};function Uo(){return"/"}function on(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function Wo(e){if(typeof e=="string")e=new URL(e);else if(!on(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return Yo(e)}function Yo(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const $t=["history","path","basename","stem","extname","dirname"];class Go{constructor(t){let n;t?on(t)?n={path:t}:typeof t=="string"||Qo(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":Ho.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<$t.length;){const o=$t[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)$t.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?_e.basename(this.path):void 0}set basename(t){Vt(t,"basename"),jt(t,"basename"),this.path=_e.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?_e.dirname(this.path):void 0}set dirname(t){$n(this.basename,"dirname"),this.path=_e.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?_e.extname(this.path):void 0}set extname(t){if(jt(t,"extname"),$n(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=_e.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){on(t)&&(t=Wo(t)),Vt(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?_e.basename(this.path,this.extname):void 0}set stem(t){Vt(t,"stem"),jt(t,"stem"),this.path=_e.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new ue(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function jt(e,t){if(e&&e.includes(_e.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+_e.sep+"`")}function Vt(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function $n(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Qo(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Xo=(function(e){const r=this.constructor.prototype,i=r[e],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,r),o}),Jo={}.hasOwnProperty;class gn extends Xo{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Do()}copy(){const t=new gn;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Ot(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Ut("data",this.frozen),this.namespace[t]=n,this):Jo.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Ut("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=mt(t),r=this.parser||this.Parser;return qt("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),qt("process",this.parser||this.Parser),Ht("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,l){const a=mt(t),s=r.parse(a);r.run(s,a,function(f,c,d){if(f||!c||!d)return u(f);const h=c,x=r.stringify(h,d);Zo(x)?d.value=x:d.result=x,u(f,d)});function u(f,c){f||!c?l(f):o?o(c):n(void 0,c)}}}processSync(t){let n=!1,r;return this.freeze(),qt("processSync",this.parser||this.Parser),Ht("processSync",this.compiler||this.Compiler),this.process(t,i),Vn("processSync","process",n),r;function i(o,l){n=!0,Dn(o),r=l}}run(t,n,r){jn(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(l,a){const s=mt(n);i.run(t,s,u);function u(f,c,d){const h=c||t;f?a(f):l?l(h):r(void 0,h,d)}}}runSync(t,n){let r=!1,i;return this.run(t,n,o),Vn("runSync","run",r),i;function o(l,a){Dn(l),i=a,r=!0}}stringify(t,n){this.freeze();const r=mt(n),i=this.compiler||this.Compiler;return Ht("stringify",i),jn(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(Ut("use",this.frozen),t!=null)if(typeof t=="function")s(t,n);else if(typeof t=="object")Array.isArray(t)?a(t):l(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(u){if(typeof u=="function")s(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[f,...c]=u;s(f,c)}else l(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function l(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(u.plugins),u.settings&&(i.settings=Ot(!0,i.settings,u.settings))}function a(u){let f=-1;if(u!=null)if(Array.isArray(u))for(;++f<u.length;){const c=u[f];o(c)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function s(u,f){let c=-1,d=-1;for(;++c<r.length;)if(r[c][0]===u){d=c;break}if(d===-1)r.push([u,...f]);else if(f.length>0){let[h,...x]=f;const _=r[d][1];nn(_)&&nn(h)&&(h=Ot(!0,_,h)),r[d]=[u,h,...x]}}}}const Ar=new gn().freeze();function qt(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Ht(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Ut(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function jn(e){if(!nn(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Vn(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function mt(e){return Ko(e)?e:new Go(e)}function Ko(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Zo(e){return typeof e=="string"||el(e)}function el(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const tl={};function xn(e,t){const n=tl,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Tr(e,r,i)}function Tr(e,t,n){if(nl(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return qn(e.children,t,n)}return Array.isArray(e)?qn(e,t,n):""}function qn(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=Tr(e[i],t,n);return r.join("")}function nl(e){return!!(e&&typeof e=="object")}const Hn=document.createElement("i");function yn(e){const t="&"+e+";";Hn.innerHTML=t;const n=Hn.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function he(e,t,n,r){const i=e.length;let o=0,l;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)l=Array.from(r),l.unshift(t,n),e.splice(...l);else for(n&&e.splice(t,n);o<r.length;)l=r.slice(o,o+1e4),l.unshift(t,0),e.splice(...l),o+=1e4,t+=1e4}function me(e,t){return e.length>0?(he(e,e.length,0,t),e):t}const Un={}.hasOwnProperty;function Ir(e){const t={};let n=-1;for(;++n<e.length;)rl(t,e[n]);return t}function rl(e,t){let n;for(n in t){const i=(Un.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let l;if(o)for(l in o){Un.call(i,l)||(i[l]=[]);const a=o[l];il(i[l],Array.isArray(a)?a:a?[a]:[])}}}function il(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);he(e,0,0,r)}function zr(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"ï¿½":String.fromCodePoint(n)}function we(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const ie=Re(/[A-Za-z]/),se=Re(/[\dA-Za-z]/),ol=Re(/[#-'*+\--9=?A-Z^-~]/);function St(e){return e!==null&&(e<32||e===127)}const ln=Re(/\d/),ll=Re(/[\dA-Fa-f]/),al=Re(/[!-/:-@[-`{-~]/);function z(e){return e!==null&&e<-2}function Y(e){return e!==null&&(e<0||e===32)}function N(e){return e===-2||e===-1||e===32}const Pt=Re(new RegExp("\\p{P}|\\p{S}","u")),je=Re(/\s/);function Re(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function V(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return l;function l(s){return N(s)?(e.enter(n),a(s)):t(s)}function a(s){return N(s)&&o++<i?(e.consume(s),a):(e.exit(n),t(s))}}const sl={tokenize:ul};function ul(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),V(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),o(a)}function o(a){const s=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=s),n=s,l(a)}function l(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return z(a)?(e.consume(a),e.exit("chunkText"),o):(e.consume(a),l)}}const cl={tokenize:fl},Wn={tokenize:hl};function fl(e){const t=this,n=[];let r=0,i,o,l;return a;function a(b){if(r<n.length){const M=n[r];return t.containerState=M[1],e.attempt(M[0].continuation,s,u)(b)}return u(b)}function s(b){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&C();const M=t.events.length;let A=M,y;for(;A--;)if(t.events[A][0]==="exit"&&t.events[A][1].type==="chunkFlow"){y=t.events[A][1].end;break}g(r);let S=M;for(;S<t.events.length;)t.events[S][1].end={...y},S++;return he(t.events,A+1,0,t.events.slice(M)),t.events.length=S,u(b)}return a(b)}function u(b){if(r===n.length){if(!i)return d(b);if(i.currentConstruct&&i.currentConstruct.concrete)return x(b);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Wn,f,c)(b)}function f(b){return i&&C(),g(r),d(b)}function c(b){return t.parser.lazy[t.now().line]=r!==n.length,l=t.now().offset,x(b)}function d(b){return t.containerState={},e.attempt(Wn,h,x)(b)}function h(b){return r++,n.push([t.currentConstruct,t.containerState]),d(b)}function x(b){if(b===null){i&&C(),g(0),e.consume(b);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),_(b)}function _(b){if(b===null){E(e.exit("chunkFlow"),!0),g(0),e.consume(b);return}return z(b)?(e.consume(b),E(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(b),_)}function E(b,M){const A=t.sliceStream(b);if(M&&A.push(null),b.previous=o,o&&(o.next=b),o=b,i.defineSkip(b.start),i.write(A),t.parser.lazy[b.start.line]){let y=i.events.length;for(;y--;)if(i.events[y][1].start.offset<l&&(!i.events[y][1].end||i.events[y][1].end.offset>l))return;const S=t.events.length;let L=S,O,w;for(;L--;)if(t.events[L][0]==="exit"&&t.events[L][1].type==="chunkFlow"){if(O){w=t.events[L][1].end;break}O=!0}for(g(r),y=S;y<t.events.length;)t.events[y][1].end={...w},y++;he(t.events,L+1,0,t.events.slice(S)),t.events.length=y}}function g(b){let M=n.length;for(;M-- >b;){const A=n[M];t.containerState=A[1],A[0].exit.call(t,e)}n.length=b}function C(){i.write([null]),o=void 0,i=void 0,t.containerState._closeFlow=void 0}}function hl(e,t,n){return V(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Qe(e){if(e===null||Y(e)||je(e))return 1;if(Pt(e))return 2}function Ft(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const o=e[i].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}const an={name:"attention",resolveAll:dl,tokenize:pl};function dl(e,t){let n=-1,r,i,o,l,a,s,u,f;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;s=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const c={...e[r][1].end},d={...e[n][1].start};Yn(c,-s),Yn(d,s),l={type:s>1?"strongSequence":"emphasisSequence",start:c,end:{...e[r][1].end}},a={type:s>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:d},o={type:s>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:s>1?"strong":"emphasis",start:{...l.start},end:{...a.end}},e[r][1].end={...l.start},e[n][1].start={...a.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=me(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=me(u,[["enter",i,t],["enter",l,t],["exit",l,t],["enter",o,t]]),u=me(u,Ft(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=me(u,[["exit",o,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(f=2,u=me(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):f=0,he(e,r-1,n-r+3,u),n=r+u.length-f-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function pl(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Qe(r);let o;return l;function l(s){return o=s,e.enter("attentionSequence"),a(s)}function a(s){if(s===o)return e.consume(s),a;const u=e.exit("attentionSequence"),f=Qe(s),c=!f||f===2&&i||n.includes(s),d=!i||i===2&&f||n.includes(r);return u._open=!!(o===42?c:c&&(i||!d)),u._close=!!(o===42?d:d&&(f||!c)),t(s)}}function Yn(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const ml={name:"autolink",tokenize:gl};function gl(e,t,n){let r=0;return i;function i(h){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(h){return ie(h)?(e.consume(h),l):h===64?n(h):u(h)}function l(h){return h===43||h===45||h===46||se(h)?(r=1,a(h)):u(h)}function a(h){return h===58?(e.consume(h),r=0,s):(h===43||h===45||h===46||se(h))&&r++<32?(e.consume(h),a):(r=0,u(h))}function s(h){return h===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):h===null||h===32||h===60||St(h)?n(h):(e.consume(h),s)}function u(h){return h===64?(e.consume(h),f):ol(h)?(e.consume(h),u):n(h)}function f(h){return se(h)?c(h):n(h)}function c(h){return h===46?(e.consume(h),r=0,f):h===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):d(h)}function d(h){if((h===45||se(h))&&r++<63){const x=h===45?d:c;return e.consume(h),x}return n(h)}}const ht={partial:!0,tokenize:xl};function xl(e,t,n){return r;function r(o){return N(o)?V(e,i,"linePrefix")(o):i(o)}function i(o){return o===null||z(o)?t(o):n(o)}}const Pr={continuation:{tokenize:bl},exit:kl,name:"blockQuote",tokenize:yl};function yl(e,t,n){const r=this;return i;function i(l){if(l===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(l),e.exit("blockQuoteMarker"),o}return n(l)}function o(l){return N(l)?(e.enter("blockQuotePrefixWhitespace"),e.consume(l),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(l))}}function bl(e,t,n){const r=this;return i;function i(l){return N(l)?V(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):o(l)}function o(l){return e.attempt(Pr,t,n)(l)}}function kl(e){e.exit("blockQuote")}const Fr={name:"characterEscape",tokenize:wl};function wl(e,t,n){return r;function r(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),i}function i(o){return al(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}const Lr={name:"characterReference",tokenize:_l};function _l(e,t,n){const r=this;let i=0,o,l;return a;function a(c){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(c),e.exit("characterReferenceMarker"),s}function s(c){return c===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(c),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),o=31,l=se,f(c))}function u(c){return c===88||c===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(c),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,l=ll,f):(e.enter("characterReferenceValue"),o=7,l=ln,f(c))}function f(c){if(c===59&&i){const d=e.exit("characterReferenceValue");return l===se&&!yn(r.sliceSerialize(d))?n(c):(e.enter("characterReferenceMarker"),e.consume(c),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return l(c)&&i++<o?(e.consume(c),f):n(c)}}const Gn={partial:!0,tokenize:Sl},Qn={concrete:!0,name:"codeFenced",tokenize:vl};function vl(e,t,n){const r=this,i={partial:!0,tokenize:A};let o=0,l=0,a;return s;function s(y){return u(y)}function u(y){const S=r.events[r.events.length-1];return o=S&&S[1].type==="linePrefix"?S[2].sliceSerialize(S[1],!0).length:0,a=y,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),f(y)}function f(y){return y===a?(l++,e.consume(y),f):l<3?n(y):(e.exit("codeFencedFenceSequence"),N(y)?V(e,c,"whitespace")(y):c(y))}function c(y){return y===null||z(y)?(e.exit("codeFencedFence"),r.interrupt?t(y):e.check(Gn,_,M)(y)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),d(y))}function d(y){return y===null||z(y)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),c(y)):N(y)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),V(e,h,"whitespace")(y)):y===96&&y===a?n(y):(e.consume(y),d)}function h(y){return y===null||z(y)?c(y):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),x(y))}function x(y){return y===null||z(y)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),c(y)):y===96&&y===a?n(y):(e.consume(y),x)}function _(y){return e.attempt(i,M,E)(y)}function E(y){return e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),g}function g(y){return o>0&&N(y)?V(e,C,"linePrefix",o+1)(y):C(y)}function C(y){return y===null||z(y)?e.check(Gn,_,M)(y):(e.enter("codeFlowValue"),b(y))}function b(y){return y===null||z(y)?(e.exit("codeFlowValue"),C(y)):(e.consume(y),b)}function M(y){return e.exit("codeFenced"),t(y)}function A(y,S,L){let O=0;return w;function w(q){return y.enter("lineEnding"),y.consume(q),y.exit("lineEnding"),P}function P(q){return y.enter("codeFencedFence"),N(q)?V(y,F,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(q):F(q)}function F(q){return q===a?(y.enter("codeFencedFenceSequence"),U(q)):L(q)}function U(q){return q===a?(O++,y.consume(q),U):O>=l?(y.exit("codeFencedFenceSequence"),N(q)?V(y,Q,"whitespace")(q):Q(q)):L(q)}function Q(q){return q===null||z(q)?(y.exit("codeFencedFence"),S(q)):L(q)}}}function Sl(e,t,n){const r=this;return i;function i(l){return l===null?n(l):(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o)}function o(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}const Wt={name:"codeIndented",tokenize:El},Cl={partial:!0,tokenize:Al};function El(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),V(e,o,"linePrefix",5)(u)}function o(u){const f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?l(u):n(u)}function l(u){return u===null?s(u):z(u)?e.attempt(Cl,l,s)(u):(e.enter("codeFlowValue"),a(u))}function a(u){return u===null||z(u)?(e.exit("codeFlowValue"),l(u)):(e.consume(u),a)}function s(u){return e.exit("codeIndented"),t(u)}}function Al(e,t,n){const r=this;return i;function i(l){return r.parser.lazy[r.now().line]?n(l):z(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),i):V(e,o,"linePrefix",5)(l)}function o(l){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(l):z(l)?i(l):n(l)}}const Tl={name:"codeText",previous:zl,resolve:Il,tokenize:Pl};function Il(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function zl(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Pl(e,t,n){let r=0,i,o;return l;function l(c){return e.enter("codeText"),e.enter("codeTextSequence"),a(c)}function a(c){return c===96?(e.consume(c),r++,a):(e.exit("codeTextSequence"),s(c))}function s(c){return c===null?n(c):c===32?(e.enter("space"),e.consume(c),e.exit("space"),s):c===96?(o=e.enter("codeTextSequence"),i=0,f(c)):z(c)?(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),s):(e.enter("codeTextData"),u(c))}function u(c){return c===null||c===32||c===96||z(c)?(e.exit("codeTextData"),s(c)):(e.consume(c),u)}function f(c){return c===96?(e.consume(c),i++,f):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(c)):(o.type="codeTextData",u(c))}}class Fl{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&tt(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),tt(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),tt(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);tt(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);tt(this.left,n.reverse())}}}function tt(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Mr(e){const t={};let n=-1,r,i,o,l,a,s,u;const f=new Fl(e);for(;++n<f.length;){for(;n in t;)n=t[n];if(r=f.get(n),n&&r[1].type==="chunkFlow"&&f.get(n-1)[1].type==="listItemPrefix"&&(s=r[1]._tokenizer.events,o=0,o<s.length&&s[o][1].type==="lineEndingBlank"&&(o+=2),o<s.length&&s[o][1].type==="content"))for(;++o<s.length&&s[o][1].type!=="content";)s[o][1].type==="chunkText"&&(s[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Ll(f,n)),n=t[n],u=!0);else if(r[1]._container){for(o=n,i=void 0;o--;)if(l=f.get(o),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(i&&(f.get(i)[1].type="lineEndingBlank"),l[1].type="lineEnding",i=o);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;i&&(r[1].end={...f.get(i)[1].start},a=f.slice(i,n),a.unshift(r),f.splice(i,n-i+1,a))}}return he(e,0,Number.POSITIVE_INFINITY,f.slice(0)),!u}function Ll(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const o=[];let l=n._tokenizer;l||(l=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const a=l.events,s=[],u={};let f,c,d=-1,h=n,x=0,_=0;const E=[_];for(;h;){for(;e.get(++i)[1]!==h;);o.push(i),h._tokenizer||(f=r.sliceStream(h),h.next||f.push(null),c&&l.defineSkip(h.start),h._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(f),h._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),c=h,h=h.next}for(h=n;++d<a.length;)a[d][0]==="exit"&&a[d-1][0]==="enter"&&a[d][1].type===a[d-1][1].type&&a[d][1].start.line!==a[d][1].end.line&&(_=d+1,E.push(_),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(l.events=[],h?(h._tokenizer=void 0,h.previous=void 0):E.pop(),d=E.length;d--;){const g=a.slice(E[d],E[d+1]),C=o.pop();s.push([C,C+g.length-1]),e.splice(C,2,g)}for(s.reverse(),d=-1;++d<s.length;)u[x+s[d][0]]=x+s[d][1],x+=s[d][1]-s[d][0]-1;return u}const Ml={resolve:Dl,tokenize:Bl},Rl={partial:!0,tokenize:Nl};function Dl(e){return Mr(e),e}function Bl(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?o(a):z(a)?e.check(Rl,l,o)(a):(e.consume(a),i)}function o(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function l(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Nl(e,t,n){const r=this;return i;function i(l){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),V(e,o,"linePrefix")}function o(l){if(l===null||z(l))return n(l);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(l):e.interrupt(r.parser.constructs.flow,n,t)(l)}}function Rr(e,t,n,r,i,o,l,a,s){const u=s||Number.POSITIVE_INFINITY;let f=0;return c;function c(g){return g===60?(e.enter(r),e.enter(i),e.enter(o),e.consume(g),e.exit(o),d):g===null||g===32||g===41||St(g)?n(g):(e.enter(r),e.enter(l),e.enter(a),e.enter("chunkString",{contentType:"string"}),_(g))}function d(g){return g===62?(e.enter(o),e.consume(g),e.exit(o),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),h(g))}function h(g){return g===62?(e.exit("chunkString"),e.exit(a),d(g)):g===null||g===60||z(g)?n(g):(e.consume(g),g===92?x:h)}function x(g){return g===60||g===62||g===92?(e.consume(g),h):h(g)}function _(g){return!f&&(g===null||g===41||Y(g))?(e.exit("chunkString"),e.exit(a),e.exit(l),e.exit(r),t(g)):f<u&&g===40?(e.consume(g),f++,_):g===41?(e.consume(g),f--,_):g===null||g===32||g===40||St(g)?n(g):(e.consume(g),g===92?E:_)}function E(g){return g===40||g===41||g===92?(e.consume(g),_):_(g)}}function Dr(e,t,n,r,i,o){const l=this;let a=0,s;return u;function u(h){return e.enter(r),e.enter(i),e.consume(h),e.exit(i),e.enter(o),f}function f(h){return a>999||h===null||h===91||h===93&&!s||h===94&&!a&&"_hiddenFootnoteSupport"in l.parser.constructs?n(h):h===93?(e.exit(o),e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):z(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),f):(e.enter("chunkString",{contentType:"string"}),c(h))}function c(h){return h===null||h===91||h===93||z(h)||a++>999?(e.exit("chunkString"),f(h)):(e.consume(h),s||(s=!N(h)),h===92?d:c)}function d(h){return h===91||h===92||h===93?(e.consume(h),a++,c):c(h)}}function Br(e,t,n,r,i,o){let l;return a;function a(d){return d===34||d===39||d===40?(e.enter(r),e.enter(i),e.consume(d),e.exit(i),l=d===40?41:d,s):n(d)}function s(d){return d===l?(e.enter(i),e.consume(d),e.exit(i),e.exit(r),t):(e.enter(o),u(d))}function u(d){return d===l?(e.exit(o),s(l)):d===null?n(d):z(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),V(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),f(d))}function f(d){return d===l||d===null||z(d)?(e.exit("chunkString"),u(d)):(e.consume(d),d===92?c:f)}function c(d){return d===l||d===92?(e.consume(d),f):f(d)}}function ot(e,t){let n;return r;function r(i){return z(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):N(i)?V(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const Ol={name:"definition",tokenize:jl},$l={partial:!0,tokenize:Vl};function jl(e,t,n){const r=this;let i;return o;function o(h){return e.enter("definition"),l(h)}function l(h){return Dr.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function a(h){return i=we(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),s):n(h)}function s(h){return Y(h)?ot(e,u)(h):u(h)}function u(h){return Rr(e,f,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function f(h){return e.attempt($l,c,c)(h)}function c(h){return N(h)?V(e,d,"whitespace")(h):d(h)}function d(h){return h===null||z(h)?(e.exit("definition"),r.parser.defined.push(i),t(h)):n(h)}}function Vl(e,t,n){return r;function r(a){return Y(a)?ot(e,i)(a):n(a)}function i(a){return Br(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function o(a){return N(a)?V(e,l,"whitespace")(a):l(a)}function l(a){return a===null||z(a)?t(a):n(a)}}const ql={name:"hardBreakEscape",tokenize:Hl};function Hl(e,t,n){return r;function r(o){return e.enter("hardBreakEscape"),e.consume(o),i}function i(o){return z(o)?(e.exit("hardBreakEscape"),t(o)):n(o)}}const Ul={name:"headingAtx",resolve:Wl,tokenize:Yl};function Wl(e,t){let n=e.length-2,r=3,i,o;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},o={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},he(e,r,n-r+1,[["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t]])),e}function Yl(e,t,n){let r=0;return i;function i(f){return e.enter("atxHeading"),o(f)}function o(f){return e.enter("atxHeadingSequence"),l(f)}function l(f){return f===35&&r++<6?(e.consume(f),l):f===null||Y(f)?(e.exit("atxHeadingSequence"),a(f)):n(f)}function a(f){return f===35?(e.enter("atxHeadingSequence"),s(f)):f===null||z(f)?(e.exit("atxHeading"),t(f)):N(f)?V(e,a,"whitespace")(f):(e.enter("atxHeadingText"),u(f))}function s(f){return f===35?(e.consume(f),s):(e.exit("atxHeadingSequence"),a(f))}function u(f){return f===null||f===35||Y(f)?(e.exit("atxHeadingText"),a(f)):(e.consume(f),u)}}const Gl=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Xn=["pre","script","style","textarea"],Ql={concrete:!0,name:"htmlFlow",resolveTo:Kl,tokenize:Zl},Xl={partial:!0,tokenize:ta},Jl={partial:!0,tokenize:ea};function Kl(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function Zl(e,t,n){const r=this;let i,o,l,a,s;return u;function u(m){return f(m)}function f(m){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(m),c}function c(m){return m===33?(e.consume(m),d):m===47?(e.consume(m),o=!0,_):m===63?(e.consume(m),i=3,r.interrupt?t:p):ie(m)?(e.consume(m),l=String.fromCharCode(m),E):n(m)}function d(m){return m===45?(e.consume(m),i=2,h):m===91?(e.consume(m),i=5,a=0,x):ie(m)?(e.consume(m),i=4,r.interrupt?t:p):n(m)}function h(m){return m===45?(e.consume(m),r.interrupt?t:p):n(m)}function x(m){const be="CDATA[";return m===be.charCodeAt(a++)?(e.consume(m),a===be.length?r.interrupt?t:F:x):n(m)}function _(m){return ie(m)?(e.consume(m),l=String.fromCharCode(m),E):n(m)}function E(m){if(m===null||m===47||m===62||Y(m)){const be=m===47,De=l.toLowerCase();return!be&&!o&&Xn.includes(De)?(i=1,r.interrupt?t(m):F(m)):Gl.includes(l.toLowerCase())?(i=6,be?(e.consume(m),g):r.interrupt?t(m):F(m)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(m):o?C(m):b(m))}return m===45||se(m)?(e.consume(m),l+=String.fromCharCode(m),E):n(m)}function g(m){return m===62?(e.consume(m),r.interrupt?t:F):n(m)}function C(m){return N(m)?(e.consume(m),C):w(m)}function b(m){return m===47?(e.consume(m),w):m===58||m===95||ie(m)?(e.consume(m),M):N(m)?(e.consume(m),b):w(m)}function M(m){return m===45||m===46||m===58||m===95||se(m)?(e.consume(m),M):A(m)}function A(m){return m===61?(e.consume(m),y):N(m)?(e.consume(m),A):b(m)}function y(m){return m===null||m===60||m===61||m===62||m===96?n(m):m===34||m===39?(e.consume(m),s=m,S):N(m)?(e.consume(m),y):L(m)}function S(m){return m===s?(e.consume(m),s=null,O):m===null||z(m)?n(m):(e.consume(m),S)}function L(m){return m===null||m===34||m===39||m===47||m===60||m===61||m===62||m===96||Y(m)?A(m):(e.consume(m),L)}function O(m){return m===47||m===62||N(m)?b(m):n(m)}function w(m){return m===62?(e.consume(m),P):n(m)}function P(m){return m===null||z(m)?F(m):N(m)?(e.consume(m),P):n(m)}function F(m){return m===45&&i===2?(e.consume(m),ne):m===60&&i===1?(e.consume(m),ee):m===62&&i===4?(e.consume(m),ye):m===63&&i===3?(e.consume(m),p):m===93&&i===5?(e.consume(m),Se):z(m)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(Xl,Ce,U)(m)):m===null||z(m)?(e.exit("htmlFlowData"),U(m)):(e.consume(m),F)}function U(m){return e.check(Jl,Q,Ce)(m)}function Q(m){return e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),q}function q(m){return m===null||z(m)?U(m):(e.enter("htmlFlowData"),F(m))}function ne(m){return m===45?(e.consume(m),p):F(m)}function ee(m){return m===47?(e.consume(m),l="",xe):F(m)}function xe(m){if(m===62){const be=l.toLowerCase();return Xn.includes(be)?(e.consume(m),ye):F(m)}return ie(m)&&l.length<8?(e.consume(m),l+=String.fromCharCode(m),xe):F(m)}function Se(m){return m===93?(e.consume(m),p):F(m)}function p(m){return m===62?(e.consume(m),ye):m===45&&i===2?(e.consume(m),p):F(m)}function ye(m){return m===null||z(m)?(e.exit("htmlFlowData"),Ce(m)):(e.consume(m),ye)}function Ce(m){return e.exit("htmlFlow"),t(m)}}function ea(e,t,n){const r=this;return i;function i(l){return z(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o):n(l)}function o(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}function ta(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(ht,t,n)}}const na={name:"htmlText",tokenize:ra};function ra(e,t,n){const r=this;let i,o,l;return a;function a(p){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(p),s}function s(p){return p===33?(e.consume(p),u):p===47?(e.consume(p),A):p===63?(e.consume(p),b):ie(p)?(e.consume(p),L):n(p)}function u(p){return p===45?(e.consume(p),f):p===91?(e.consume(p),o=0,x):ie(p)?(e.consume(p),C):n(p)}function f(p){return p===45?(e.consume(p),h):n(p)}function c(p){return p===null?n(p):p===45?(e.consume(p),d):z(p)?(l=c,ee(p)):(e.consume(p),c)}function d(p){return p===45?(e.consume(p),h):c(p)}function h(p){return p===62?ne(p):p===45?d(p):c(p)}function x(p){const ye="CDATA[";return p===ye.charCodeAt(o++)?(e.consume(p),o===ye.length?_:x):n(p)}function _(p){return p===null?n(p):p===93?(e.consume(p),E):z(p)?(l=_,ee(p)):(e.consume(p),_)}function E(p){return p===93?(e.consume(p),g):_(p)}function g(p){return p===62?ne(p):p===93?(e.consume(p),g):_(p)}function C(p){return p===null||p===62?ne(p):z(p)?(l=C,ee(p)):(e.consume(p),C)}function b(p){return p===null?n(p):p===63?(e.consume(p),M):z(p)?(l=b,ee(p)):(e.consume(p),b)}function M(p){return p===62?ne(p):b(p)}function A(p){return ie(p)?(e.consume(p),y):n(p)}function y(p){return p===45||se(p)?(e.consume(p),y):S(p)}function S(p){return z(p)?(l=S,ee(p)):N(p)?(e.consume(p),S):ne(p)}function L(p){return p===45||se(p)?(e.consume(p),L):p===47||p===62||Y(p)?O(p):n(p)}function O(p){return p===47?(e.consume(p),ne):p===58||p===95||ie(p)?(e.consume(p),w):z(p)?(l=O,ee(p)):N(p)?(e.consume(p),O):ne(p)}function w(p){return p===45||p===46||p===58||p===95||se(p)?(e.consume(p),w):P(p)}function P(p){return p===61?(e.consume(p),F):z(p)?(l=P,ee(p)):N(p)?(e.consume(p),P):O(p)}function F(p){return p===null||p===60||p===61||p===62||p===96?n(p):p===34||p===39?(e.consume(p),i=p,U):z(p)?(l=F,ee(p)):N(p)?(e.consume(p),F):(e.consume(p),Q)}function U(p){return p===i?(e.consume(p),i=void 0,q):p===null?n(p):z(p)?(l=U,ee(p)):(e.consume(p),U)}function Q(p){return p===null||p===34||p===39||p===60||p===61||p===96?n(p):p===47||p===62||Y(p)?O(p):(e.consume(p),Q)}function q(p){return p===47||p===62||Y(p)?O(p):n(p)}function ne(p){return p===62?(e.consume(p),e.exit("htmlTextData"),e.exit("htmlText"),t):n(p)}function ee(p){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),xe}function xe(p){return N(p)?V(e,Se,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(p):Se(p)}function Se(p){return e.enter("htmlTextData"),l(p)}}const bn={name:"labelEnd",resolveAll:aa,resolveTo:sa,tokenize:ua},ia={tokenize:ca},oa={tokenize:fa},la={tokenize:ha};function aa(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&he(e,0,e.length,n),e}function sa(e,t){let n=e.length,r=0,i,o,l,a;for(;n--;)if(i=e[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(l){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(l=n);const s={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[o][1].start},end:{...e[l][1].end}},f={type:"labelText",start:{...e[o+r+2][1].end},end:{...e[l-2][1].start}};return a=[["enter",s,t],["enter",u,t]],a=me(a,e.slice(o+1,o+r+3)),a=me(a,[["enter",f,t]]),a=me(a,Ft(t.parser.constructs.insideSpan.null,e.slice(o+r+4,l-3),t)),a=me(a,[["exit",f,t],e[l-2],e[l-1],["exit",u,t]]),a=me(a,e.slice(l+1)),a=me(a,[["exit",s,t]]),he(e,o,e.length,a),e}function ua(e,t,n){const r=this;let i=r.events.length,o,l;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return a;function a(d){return o?o._inactive?c(d):(l=r.parser.defined.includes(we(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(d),e.exit("labelMarker"),e.exit("labelEnd"),s):n(d)}function s(d){return d===40?e.attempt(ia,f,l?f:c)(d):d===91?e.attempt(oa,f,l?u:c)(d):l?f(d):c(d)}function u(d){return e.attempt(la,f,c)(d)}function f(d){return t(d)}function c(d){return o._balanced=!0,n(d)}}function ca(e,t,n){return r;function r(c){return e.enter("resource"),e.enter("resourceMarker"),e.consume(c),e.exit("resourceMarker"),i}function i(c){return Y(c)?ot(e,o)(c):o(c)}function o(c){return c===41?f(c):Rr(e,l,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(c)}function l(c){return Y(c)?ot(e,s)(c):f(c)}function a(c){return n(c)}function s(c){return c===34||c===39||c===40?Br(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(c):f(c)}function u(c){return Y(c)?ot(e,f)(c):f(c)}function f(c){return c===41?(e.enter("resourceMarker"),e.consume(c),e.exit("resourceMarker"),e.exit("resource"),t):n(c)}}function fa(e,t,n){const r=this;return i;function i(a){return Dr.call(r,e,o,l,"reference","referenceMarker","referenceString")(a)}function o(a){return r.parser.defined.includes(we(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function l(a){return n(a)}}function ha(e,t,n){return r;function r(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),i}function i(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}const da={name:"labelStartImage",resolveAll:bn.resolveAll,tokenize:pa};function pa(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),o}function o(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),l):n(a)}function l(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const ma={name:"labelStartLink",resolveAll:bn.resolveAll,tokenize:ga};function ga(e,t,n){const r=this;return i;function i(l){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelLink"),o}function o(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const Yt={name:"lineEnding",tokenize:xa};function xa(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),V(e,t,"linePrefix")}}const kt={name:"thematicBreak",tokenize:ya};function ya(e,t,n){let r=0,i;return o;function o(u){return e.enter("thematicBreak"),l(u)}function l(u){return i=u,a(u)}function a(u){return u===i?(e.enter("thematicBreakSequence"),s(u)):r>=3&&(u===null||z(u))?(e.exit("thematicBreak"),t(u)):n(u)}function s(u){return u===i?(e.consume(u),r++,s):(e.exit("thematicBreakSequence"),N(u)?V(e,a,"whitespace")(u):a(u))}}const le={continuation:{tokenize:_a},exit:Sa,name:"list",tokenize:wa},ba={partial:!0,tokenize:Ca},ka={partial:!0,tokenize:va};function wa(e,t,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,l=0;return a;function a(h){const x=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(x==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:ln(h)){if(r.containerState.type||(r.containerState.type=x,e.enter(x,{_container:!0})),x==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(kt,n,u)(h):u(h);if(!r.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),s(h)}return n(h)}function s(h){return ln(h)&&++l<10?(e.consume(h),s):(!r.interrupt||l<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),u(h)):n(h)}function u(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,e.check(ht,r.interrupt?n:f,e.attempt(ba,d,c))}function f(h){return r.containerState.initialBlankLine=!0,o++,d(h)}function c(h){return N(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),d):n(h)}function d(h){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function _a(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(ht,i,o);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,V(e,t,"listItemIndent",r.containerState.size+1)(a)}function o(a){return r.containerState.furtherBlankLines||!N(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(ka,t,l)(a))}function l(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,V(e,e.attempt(le,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function va(e,t,n){const r=this;return V(e,i,"listItemIndent",r.containerState.size+1);function i(o){const l=r.events[r.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?t(o):n(o)}}function Sa(e){e.exit(this.containerState.type)}function Ca(e,t,n){const r=this;return V(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const l=r.events[r.events.length-1];return!N(o)&&l&&l[1].type==="listItemPrefixWhitespace"?t(o):n(o)}}const Jn={name:"setextUnderline",resolveTo:Ea,tokenize:Aa};function Ea(e,t){let n=e.length,r,i,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!o&&e[n][1].type==="definition"&&(o=n);const l={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",o?(e.splice(i,0,["enter",l,t]),e.splice(o+1,0,["exit",e[r][1],t]),e[r][1].end={...e[o][1].end}):e[r][1]=l,e.push(["exit",l,t]),e}function Aa(e,t,n){const r=this;let i;return o;function o(u){let f=r.events.length,c;for(;f--;)if(r.events[f][1].type!=="lineEnding"&&r.events[f][1].type!=="linePrefix"&&r.events[f][1].type!=="content"){c=r.events[f][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||c)?(e.enter("setextHeadingLine"),i=u,l(u)):n(u)}function l(u){return e.enter("setextHeadingLineSequence"),a(u)}function a(u){return u===i?(e.consume(u),a):(e.exit("setextHeadingLineSequence"),N(u)?V(e,s,"lineSuffix")(u):s(u))}function s(u){return u===null||z(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const Ta={tokenize:Ia};function Ia(e){const t=this,n=e.attempt(ht,r,e.attempt(this.parser.constructs.flowInitial,i,V(e,e.attempt(this.parser.constructs.flow,i,e.attempt(Ml,i)),"linePrefix")));return n;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const za={resolveAll:Or()},Pa=Nr("string"),Fa=Nr("text");function Nr(e){return{resolveAll:Or(e==="text"?La:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],o=n.attempt(i,l,a);return l;function l(f){return u(f)?o(f):a(f)}function a(f){if(f===null){n.consume(f);return}return n.enter("data"),n.consume(f),s}function s(f){return u(f)?(n.exit("data"),o(f)):(n.consume(f),s)}function u(f){if(f===null)return!0;const c=i[f];let d=-1;if(c)for(;++d<c.length;){const h=c[d];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function Or(e){return t;function t(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return e?e(n,r):n}}function La(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let o=i.length,l=-1,a=0,s;for(;o--;){const u=i[o];if(typeof u=="string"){for(l=u.length;u.charCodeAt(l-1)===32;)a++,l--;if(l)break;l=-1}else if(u===-2)s=!0,a++;else if(u!==-1){o++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(a=0),a){const u={type:n===e.length||s||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?l:r.start._bufferIndex+l,_index:r.start._index+o,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const Ma={42:le,43:le,45:le,48:le,49:le,50:le,51:le,52:le,53:le,54:le,55:le,56:le,57:le,62:Pr},Ra={91:Ol},Da={[-2]:Wt,[-1]:Wt,32:Wt},Ba={35:Ul,42:kt,45:[Jn,kt],60:Ql,61:Jn,95:kt,96:Qn,126:Qn},Na={38:Lr,92:Fr},Oa={[-5]:Yt,[-4]:Yt,[-3]:Yt,33:da,38:Lr,42:an,60:[ml,na],91:ma,92:[ql,Fr],93:bn,95:an,96:Tl},$a={null:[an,za]},ja={null:[42,95]},Va={null:[]},qa=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:ja,contentInitial:Ra,disable:Va,document:Ma,flow:Ba,flowInitial:Da,insideSpan:$a,string:Na,text:Oa},Symbol.toStringTag,{value:"Module"}));function Ha(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},o=[];let l=[],a=[];const s={attempt:S(A),check:S(y),consume:C,enter:b,exit:M,interrupt:S(y,{interrupt:!0})},u={code:null,containerState:{},defineSkip:_,events:[],now:x,parser:e,previous:null,sliceSerialize:d,sliceStream:h,write:c};let f=t.tokenize.call(u,s);return t.resolveAll&&o.push(t),u;function c(P){return l=me(l,P),E(),l[l.length-1]!==null?[]:(L(t,0),u.events=Ft(o,u.events,u),u.events)}function d(P,F){return Wa(h(P),F)}function h(P){return Ua(l,P)}function x(){const{_bufferIndex:P,_index:F,line:U,column:Q,offset:q}=r;return{_bufferIndex:P,_index:F,line:U,column:Q,offset:q}}function _(P){i[P.line]=P.column,w()}function E(){let P;for(;r._index<l.length;){const F=l[r._index];if(typeof F=="string")for(P=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===P&&r._bufferIndex<F.length;)g(F.charCodeAt(r._bufferIndex));else g(F)}}function g(P){f=f(P)}function C(P){z(P)?(r.line++,r.column=1,r.offset+=P===-3?2:1,w()):P!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=P}function b(P,F){const U=F||{};return U.type=P,U.start=x(),u.events.push(["enter",U,u]),a.push(U),U}function M(P){const F=a.pop();return F.end=x(),u.events.push(["exit",F,u]),F}function A(P,F){L(P,F.from)}function y(P,F){F.restore()}function S(P,F){return U;function U(Q,q,ne){let ee,xe,Se,p;return Array.isArray(Q)?Ce(Q):"tokenize"in Q?Ce([Q]):ye(Q);function ye(te){return Je;function Je(ze){const He=ze!==null&&te[ze],Ue=ze!==null&&te.null,dt=[...Array.isArray(He)?He:He?[He]:[],...Array.isArray(Ue)?Ue:Ue?[Ue]:[]];return Ce(dt)(ze)}}function Ce(te){return ee=te,xe=0,te.length===0?ne:m(te[xe])}function m(te){return Je;function Je(ze){return p=O(),Se=te,te.partial||(u.currentConstruct=te),te.name&&u.parser.constructs.disable.null.includes(te.name)?De():te.tokenize.call(F?Object.assign(Object.create(u),F):u,s,be,De)(ze)}}function be(te){return P(Se,p),q}function De(te){return p.restore(),++xe<ee.length?m(ee[xe]):ne}}}function L(P,F){P.resolveAll&&!o.includes(P)&&o.push(P),P.resolve&&he(u.events,F,u.events.length-F,P.resolve(u.events.slice(F),u)),P.resolveTo&&(u.events=P.resolveTo(u.events,u))}function O(){const P=x(),F=u.previous,U=u.currentConstruct,Q=u.events.length,q=Array.from(a);return{from:Q,restore:ne};function ne(){r=P,u.previous=F,u.currentConstruct=U,u.events.length=Q,a=q,w()}}function w(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Ua(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,o=t.end._bufferIndex;let l;if(n===i)l=[e[n].slice(r,o)];else{if(l=e.slice(n,i),r>-1){const a=l[0];typeof a=="string"?l[0]=a.slice(r):l.shift()}o>0&&l.push(e[i].slice(0,o))}return l}function Wa(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const o=e[n];let l;if(typeof o=="string")l=o;else switch(o){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=t?" ":"	";break}case-1:{if(!t&&i)continue;l=" ";break}default:l=String.fromCharCode(o)}i=o===-2,r.push(l)}return r.join("")}function Ya(e){const r={constructs:Ir([qa,...(e||{}).extensions||[]]),content:i(sl),defined:[],document:i(cl),flow:i(Ta),lazy:{},string:i(Pa),text:i(Fa)};return r;function i(o){return l;function l(a){return Ha(r,o,a)}}}function Ga(e){for(;!Mr(e););return e}const Kn=/[\0\t\n\r]/g;function Qa(){let e=1,t="",n=!0,r;return i;function i(o,l,a){const s=[];let u,f,c,d,h;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(l||void 0).decode(o)),c=0,t="",n&&(o.charCodeAt(0)===65279&&c++,n=void 0);c<o.length;){if(Kn.lastIndex=c,u=Kn.exec(o),d=u&&u.index!==void 0?u.index:o.length,h=o.charCodeAt(d),!u){t=o.slice(c);break}if(h===10&&c===d&&r)s.push(-3),r=void 0;else switch(r&&(s.push(-5),r=void 0),c<d&&(s.push(o.slice(c,d)),e+=d-c),h){case 0:{s.push(65533),e++;break}case 9:{for(f=Math.ceil(e/4)*4,s.push(-2);e++<f;)s.push(-1);break}case 10:{s.push(-4),e=1;break}default:r=!0,e=1}c=d+1}return a&&(r&&s.push(-5),t&&s.push(t),s.push(null)),s}}const Xa=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function $r(e){return e.replace(Xa,Ja)}function Ja(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return zr(n.slice(o?2:1),o?16:10)}return yn(n)||e}const jr={}.hasOwnProperty;function Ka(e,t,n){return typeof t!="string"&&(n=t,t=void 0),Za(n)(Ga(Ya(n).document().write(Qa()(e,t,!0))))}function Za(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(In),autolinkProtocol:O,autolinkEmail:O,atxHeading:o(En),blockQuote:o(Ue),characterEscape:O,characterReference:O,codeFenced:o(dt),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:o(dt,l),codeText:o(Si,l),codeTextData:O,data:O,codeFlowValue:O,definition:o(Ci),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:o(Ei),hardBreakEscape:o(An),hardBreakTrailing:o(An),htmlFlow:o(Tn,l),htmlFlowData:O,htmlText:o(Tn,l),htmlTextData:O,image:o(Ai),label:l,link:o(In),listItem:o(Ti),listItemValue:d,listOrdered:o(zn,c),listUnordered:o(zn),paragraph:o(Ii),reference:m,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:o(En),strong:o(zi),thematicBreak:o(Fi)},exit:{atxHeading:s(),atxHeadingSequence:A,autolink:s(),autolinkEmail:He,autolinkProtocol:ze,blockQuote:s(),characterEscapeValue:w,characterReferenceMarkerHexadecimal:De,characterReferenceMarkerNumeric:De,characterReferenceValue:te,characterReference:Je,codeFenced:s(E),codeFencedFence:_,codeFencedFenceInfo:h,codeFencedFenceMeta:x,codeFlowValue:w,codeIndented:s(g),codeText:s(q),codeTextData:w,data:w,definition:s(),definitionDestinationString:M,definitionLabelString:C,definitionTitleString:b,emphasis:s(),hardBreakEscape:s(F),hardBreakTrailing:s(F),htmlFlow:s(U),htmlFlowData:w,htmlText:s(Q),htmlTextData:w,image:s(ee),label:Se,labelText:xe,lineEnding:P,link:s(ne),listItem:s(),listOrdered:s(),listUnordered:s(),paragraph:s(),referenceString:be,resourceDestinationString:p,resourceTitleString:ye,resource:Ce,setextHeading:s(L),setextHeadingLineSequence:S,setextHeadingText:y,strong:s(),thematicBreak:s()}};Vr(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(v){let T={type:"root",children:[]};const B={stack:[T],tokenStack:[],config:t,enter:a,exit:u,buffer:l,resume:f,data:n},j=[];let W=-1;for(;++W<v.length;)if(v[W][1].type==="listOrdered"||v[W][1].type==="listUnordered")if(v[W][0]==="enter")j.push(W);else{const ke=j.pop();W=i(v,ke,W)}for(W=-1;++W<v.length;){const ke=t[v[W][0]];jr.call(ke,v[W][1].type)&&ke[v[W][1].type].call(Object.assign({sliceSerialize:v[W][2].sliceSerialize},B),v[W][1])}if(B.tokenStack.length>0){const ke=B.tokenStack[B.tokenStack.length-1];(ke[1]||Zn).call(B,void 0,ke[0])}for(T.position={start:Pe(v.length>0?v[0][1].start:{line:1,column:1,offset:0}),end:Pe(v.length>0?v[v.length-2][1].end:{line:1,column:1,offset:0})},W=-1;++W<t.transforms.length;)T=t.transforms[W](T)||T;return T}function i(v,T,B){let j=T-1,W=-1,ke=!1,Be,Ee,Ke,Ze;for(;++j<=B;){const ce=v[j];switch(ce[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ce[0]==="enter"?W++:W--,Ze=void 0;break}case"lineEndingBlank":{ce[0]==="enter"&&(Be&&!Ze&&!W&&!Ke&&(Ke=j),Ze=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ze=void 0}if(!W&&ce[0]==="enter"&&ce[1].type==="listItemPrefix"||W===-1&&ce[0]==="exit"&&(ce[1].type==="listUnordered"||ce[1].type==="listOrdered")){if(Be){let We=j;for(Ee=void 0;We--;){const Ae=v[We];if(Ae[1].type==="lineEnding"||Ae[1].type==="lineEndingBlank"){if(Ae[0]==="exit")continue;Ee&&(v[Ee][1].type="lineEndingBlank",ke=!0),Ae[1].type="lineEnding",Ee=We}else if(!(Ae[1].type==="linePrefix"||Ae[1].type==="blockQuotePrefix"||Ae[1].type==="blockQuotePrefixWhitespace"||Ae[1].type==="blockQuoteMarker"||Ae[1].type==="listItemIndent"))break}Ke&&(!Ee||Ke<Ee)&&(Be._spread=!0),Be.end=Object.assign({},Ee?v[Ee][1].start:ce[1].end),v.splice(Ee||j,0,["exit",Be,ce[2]]),j++,B++}if(ce[1].type==="listItemPrefix"){const We={type:"listItem",_spread:!1,start:Object.assign({},ce[1].start),end:void 0};Be=We,v.splice(j,0,["enter",We,ce[2]]),j++,B++,Ke=void 0,Ze=!0}}}return v[T][1]._spread=ke,B}function o(v,T){return B;function B(j){a.call(this,v(j),j),T&&T.call(this,j)}}function l(){this.stack.push({type:"fragment",children:[]})}function a(v,T,B){this.stack[this.stack.length-1].children.push(v),this.stack.push(v),this.tokenStack.push([T,B||void 0]),v.position={start:Pe(T.start),end:void 0}}function s(v){return T;function T(B){v&&v.call(this,B),u.call(this,B)}}function u(v,T){const B=this.stack.pop(),j=this.tokenStack.pop();if(j)j[0].type!==v.type&&(T?T.call(this,v,j[0]):(j[1]||Zn).call(this,v,j[0]));else throw new Error("Cannot close `"+v.type+"` ("+it({start:v.start,end:v.end})+"): itâs not open");B.position.end=Pe(v.end)}function f(){return xn(this.stack.pop())}function c(){this.data.expectingFirstListItemValue=!0}function d(v){if(this.data.expectingFirstListItemValue){const T=this.stack[this.stack.length-2];T.start=Number.parseInt(this.sliceSerialize(v),10),this.data.expectingFirstListItemValue=void 0}}function h(){const v=this.resume(),T=this.stack[this.stack.length-1];T.lang=v}function x(){const v=this.resume(),T=this.stack[this.stack.length-1];T.meta=v}function _(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function E(){const v=this.resume(),T=this.stack[this.stack.length-1];T.value=v.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function g(){const v=this.resume(),T=this.stack[this.stack.length-1];T.value=v.replace(/(\r?\n|\r)$/g,"")}function C(v){const T=this.resume(),B=this.stack[this.stack.length-1];B.label=T,B.identifier=we(this.sliceSerialize(v)).toLowerCase()}function b(){const v=this.resume(),T=this.stack[this.stack.length-1];T.title=v}function M(){const v=this.resume(),T=this.stack[this.stack.length-1];T.url=v}function A(v){const T=this.stack[this.stack.length-1];if(!T.depth){const B=this.sliceSerialize(v).length;T.depth=B}}function y(){this.data.setextHeadingSlurpLineEnding=!0}function S(v){const T=this.stack[this.stack.length-1];T.depth=this.sliceSerialize(v).codePointAt(0)===61?1:2}function L(){this.data.setextHeadingSlurpLineEnding=void 0}function O(v){const B=this.stack[this.stack.length-1].children;let j=B[B.length-1];(!j||j.type!=="text")&&(j=Pi(),j.position={start:Pe(v.start),end:void 0},B.push(j)),this.stack.push(j)}function w(v){const T=this.stack.pop();T.value+=this.sliceSerialize(v),T.position.end=Pe(v.end)}function P(v){const T=this.stack[this.stack.length-1];if(this.data.atHardBreak){const B=T.children[T.children.length-1];B.position.end=Pe(v.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(T.type)&&(O.call(this,v),w.call(this,v))}function F(){this.data.atHardBreak=!0}function U(){const v=this.resume(),T=this.stack[this.stack.length-1];T.value=v}function Q(){const v=this.resume(),T=this.stack[this.stack.length-1];T.value=v}function q(){const v=this.resume(),T=this.stack[this.stack.length-1];T.value=v}function ne(){const v=this.stack[this.stack.length-1];if(this.data.inReference){const T=this.data.referenceType||"shortcut";v.type+="Reference",v.referenceType=T,delete v.url,delete v.title}else delete v.identifier,delete v.label;this.data.referenceType=void 0}function ee(){const v=this.stack[this.stack.length-1];if(this.data.inReference){const T=this.data.referenceType||"shortcut";v.type+="Reference",v.referenceType=T,delete v.url,delete v.title}else delete v.identifier,delete v.label;this.data.referenceType=void 0}function xe(v){const T=this.sliceSerialize(v),B=this.stack[this.stack.length-2];B.label=$r(T),B.identifier=we(T).toLowerCase()}function Se(){const v=this.stack[this.stack.length-1],T=this.resume(),B=this.stack[this.stack.length-1];if(this.data.inReference=!0,B.type==="link"){const j=v.children;B.children=j}else B.alt=T}function p(){const v=this.resume(),T=this.stack[this.stack.length-1];T.url=v}function ye(){const v=this.resume(),T=this.stack[this.stack.length-1];T.title=v}function Ce(){this.data.inReference=void 0}function m(){this.data.referenceType="collapsed"}function be(v){const T=this.resume(),B=this.stack[this.stack.length-1];B.label=T,B.identifier=we(this.sliceSerialize(v)).toLowerCase(),this.data.referenceType="full"}function De(v){this.data.characterReferenceType=v.type}function te(v){const T=this.sliceSerialize(v),B=this.data.characterReferenceType;let j;B?(j=zr(T,B==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):j=yn(T);const W=this.stack[this.stack.length-1];W.value+=j}function Je(v){const T=this.stack.pop();T.position.end=Pe(v.end)}function ze(v){w.call(this,v);const T=this.stack[this.stack.length-1];T.url=this.sliceSerialize(v)}function He(v){w.call(this,v);const T=this.stack[this.stack.length-1];T.url="mailto:"+this.sliceSerialize(v)}function Ue(){return{type:"blockquote",children:[]}}function dt(){return{type:"code",lang:null,meta:null,value:""}}function Si(){return{type:"inlineCode",value:""}}function Ci(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ei(){return{type:"emphasis",children:[]}}function En(){return{type:"heading",depth:0,children:[]}}function An(){return{type:"break"}}function Tn(){return{type:"html",value:""}}function Ai(){return{type:"image",title:null,url:"",alt:null}}function In(){return{type:"link",title:null,url:"",children:[]}}function zn(v){return{type:"list",ordered:v.type==="listOrdered",start:null,spread:v._spread,children:[]}}function Ti(v){return{type:"listItem",spread:v._spread,checked:null,children:[]}}function Ii(){return{type:"paragraph",children:[]}}function zi(){return{type:"strong",children:[]}}function Pi(){return{type:"text",value:""}}function Fi(){return{type:"thematicBreak"}}}function Pe(e){return{line:e.line,column:e.column,offset:e.offset}}function Vr(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Vr(e,r):es(e,r)}}function es(e,t){let n;for(n in t)if(jr.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Zn(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+it({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+it({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+it({start:t.start,end:t.end})+") is still open")}function qr(e){const t=this;t.parser=n;function n(r){return Ka(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}const er={}.hasOwnProperty;function ts(e,t){const n=t||{};function r(i,...o){let l=r.invalid;const a=r.handlers;if(i&&er.call(i,e)){const s=String(i[e]);l=er.call(a,s)?a[s]:r.unknown}if(l)return l.call(this,i,...o)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const ns={}.hasOwnProperty;function Hr(e,t){let n=-1,r;if(t.extensions)for(;++n<t.extensions.length;)Hr(e,t.extensions[n]);for(r in t)if(ns.call(t,r))switch(r){case"extensions":break;case"unsafe":{tr(e[r],t[r]);break}case"join":{tr(e[r],t[r]);break}case"handlers":{rs(e[r],t[r]);break}default:e.options[r]=t[r]}return e}function tr(e,t){t&&e.push(...t)}function rs(e,t){t&&Object.assign(e,t)}function is(e,t,n,r){const i=n.enter("blockquote"),o=n.createTracker(r);o.move("> "),o.shift(2);const l=n.indentLines(n.containerFlow(e,o.current()),os);return i(),l}function os(e,t,n){return">"+(n?"":" ")+e}function Ur(e,t){return nr(e,t.inConstruct,!0)&&!nr(e,t.notInConstruct,!1)}function nr(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function rr(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&Ur(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function ls(e,t){const n=String(e);let r=n.indexOf(t),i=r,o=0,l=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++o>l&&(l=o):o=1,i=r+t.length,r=n.indexOf(t,i);return l}function sn(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function as(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function ss(e,t,n,r){const i=as(n),o=e.value||"",l=i==="`"?"GraveAccent":"Tilde";if(sn(e,n)){const c=n.enter("codeIndented"),d=n.indentLines(o,us);return c(),d}const a=n.createTracker(r),s=i.repeat(Math.max(ls(o,i)+1,3)),u=n.enter("codeFenced");let f=a.move(s);if(e.lang){const c=n.enter(`codeFencedLang${l}`);f+=a.move(n.safe(e.lang,{before:f,after:" ",encode:["`"],...a.current()})),c()}if(e.lang&&e.meta){const c=n.enter(`codeFencedMeta${l}`);f+=a.move(" "),f+=a.move(n.safe(e.meta,{before:f,after:`
`,encode:["`"],...a.current()})),c()}return f+=a.move(`
`),o&&(f+=a.move(o+`
`)),f+=a.move(s),u(),f}function us(e,t,n){return(n?"":"    ")+e}function kn(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function cs(e,t,n,r){const i=kn(n),o=i==='"'?"Quote":"Apostrophe",l=n.enter("definition");let a=n.enter("label");const s=n.createTracker(r);let u=s.move("[");return u+=s.move(n.safe(n.associationId(e),{before:u,after:"]",...s.current()})),u+=s.move("]: "),a(),!e.url||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),u+=s.move("<"),u+=s.move(n.safe(e.url,{before:u,after:">",...s.current()})),u+=s.move(">")):(a=n.enter("destinationRaw"),u+=s.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...s.current()}))),a(),e.title&&(a=n.enter(`title${o}`),u+=s.move(" "+i),u+=s.move(n.safe(e.title,{before:u,after:i,...s.current()})),u+=s.move(i),a()),l(),u}function fs(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Me(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Ct(e,t,n){const r=Qe(e),i=Qe(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Wr.peek=hs;function Wr(e,t,n,r){const i=fs(n),o=n.enter("emphasis"),l=n.createTracker(r),a=l.move(i);let s=l.move(n.containerPhrasing(e,{after:i,before:a,...l.current()}));const u=s.charCodeAt(0),f=Ct(r.before.charCodeAt(r.before.length-1),u,i);f.inside&&(s=Me(u)+s.slice(1));const c=s.charCodeAt(s.length-1),d=Ct(r.after.charCodeAt(0),c,i);d.inside&&(s=s.slice(0,-1)+Me(c));const h=l.move(i);return o(),n.attentionEncodeSurroundingInfo={after:d.outside,before:f.outside},a+s+h}function hs(e,t,n){return n.options.emphasis||"*"}const Lt=(function(e){if(e==null)return gs;if(typeof e=="function")return Mt(e);if(typeof e=="object")return Array.isArray(e)?ds(e):ps(e);if(typeof e=="string")return ms(e);throw new Error("Expected function, string, or object as test")});function ds(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Lt(e[n]);return Mt(r);function r(...i){let o=-1;for(;++o<t.length;)if(t[o].apply(this,i))return!0;return!1}}function ps(e){const t=e;return Mt(n);function n(r){const i=r;let o;for(o in e)if(i[o]!==t[o])return!1;return!0}}function ms(e){return Mt(t);function t(n){return n&&n.type===e}}function Mt(e){return t;function t(n,r,i){return!!(xs(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function gs(){return!0}function xs(e){return e!==null&&typeof e=="object"&&"type"in e}const Yr=[],ys=!0,st=!1,Gr="skip";function Qr(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const o=Lt(i),l=r?-1:1;a(e,void 0,[])();function a(s,u,f){const c=s&&typeof s=="object"?s:{};if(typeof c.type=="string"){const h=typeof c.tagName=="string"?c.tagName:typeof c.name=="string"?c.name:void 0;Object.defineProperty(d,"name",{value:"node ("+(s.type+(h?"<"+h+">":""))+")"})}return d;function d(){let h=Yr,x,_,E;if((!t||o(s,u,f[f.length-1]||void 0))&&(h=bs(n(s,f)),h[0]===st))return h;if("children"in s&&s.children){const g=s;if(g.children&&h[0]!==Gr)for(_=(r?g.children.length:-1)+l,E=f.concat(g);_>-1&&_<g.children.length;){const C=g.children[_];if(x=a(C,_,E)(),x[0]===st)return x;_=typeof x[1]=="number"?x[1]:_+l}}return h}}}function bs(e){return Array.isArray(e)?e:typeof e=="number"?[ys,e]:e==null?Yr:[e]}function Rt(e,t,n,r){let i,o,l;typeof t=="function"&&typeof n!="function"?(o=void 0,l=t,i=n):(o=t,l=n,i=r),Qr(e,o,a,i);function a(s,u){const f=u[u.length-1],c=f?f.children.indexOf(s):void 0;return l(s,c,f)}}function Xr(e,t){let n=!1;return Rt(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,st}),!!((!e.depth||e.depth<3)&&xn(e)&&(t.options.setext||n))}function ks(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),o=n.createTracker(r);if(Xr(e,n)){const f=n.enter("headingSetext"),c=n.enter("phrasing"),d=n.containerPhrasing(e,{...o.current(),before:`
`,after:`
`});return c(),f(),d+`
`+(i===1?"=":"-").repeat(d.length-(Math.max(d.lastIndexOf("\r"),d.lastIndexOf(`
`))+1))}const l="#".repeat(i),a=n.enter("headingAtx"),s=n.enter("phrasing");o.move(l+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(u)&&(u=Me(u.charCodeAt(0))+u.slice(1)),u=u?l+" "+u:l,n.options.closeAtx&&(u+=" "+l),s(),a(),u}Jr.peek=ws;function Jr(e){return e.value||""}function ws(){return"<"}Kr.peek=_s;function Kr(e,t,n,r){const i=kn(n),o=i==='"'?"Quote":"Apostrophe",l=n.enter("image");let a=n.enter("label");const s=n.createTracker(r);let u=s.move("![");return u+=s.move(n.safe(e.alt,{before:u,after:"]",...s.current()})),u+=s.move("]("),a(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),u+=s.move("<"),u+=s.move(n.safe(e.url,{before:u,after:">",...s.current()})),u+=s.move(">")):(a=n.enter("destinationRaw"),u+=s.move(n.safe(e.url,{before:u,after:e.title?" ":")",...s.current()}))),a(),e.title&&(a=n.enter(`title${o}`),u+=s.move(" "+i),u+=s.move(n.safe(e.title,{before:u,after:i,...s.current()})),u+=s.move(i),a()),u+=s.move(")"),l(),u}function _s(){return"!"}Zr.peek=vs;function Zr(e,t,n,r){const i=e.referenceType,o=n.enter("imageReference");let l=n.enter("label");const a=n.createTracker(r);let s=a.move("![");const u=n.safe(e.alt,{before:s,after:"]",...a.current()});s+=a.move(u+"]["),l();const f=n.stack;n.stack=[],l=n.enter("reference");const c=n.safe(n.associationId(e),{before:s,after:"]",...a.current()});return l(),n.stack=f,o(),i==="full"||!u||u!==c?s+=a.move(c+"]"):i==="shortcut"?s=s.slice(0,-1):s+=a.move("]"),s}function vs(){return"!"}ei.peek=Ss;function ei(e,t,n){let r=e.value||"",i="`",o=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++o<n.unsafe.length;){const l=n.unsafe[o],a=n.compilePattern(l);let s;if(l.atBreak)for(;s=a.exec(r);){let u=s.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(s.index+1)}}return i+r+i}function Ss(){return"`"}function ti(e,t){const n=xn(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}ni.peek=Cs;function ni(e,t,n,r){const i=kn(n),o=i==='"'?"Quote":"Apostrophe",l=n.createTracker(r);let a,s;if(ti(e,n)){const f=n.stack;n.stack=[],a=n.enter("autolink");let c=l.move("<");return c+=l.move(n.containerPhrasing(e,{before:c,after:">",...l.current()})),c+=l.move(">"),a(),n.stack=f,c}a=n.enter("link"),s=n.enter("label");let u=l.move("[");return u+=l.move(n.containerPhrasing(e,{before:u,after:"](",...l.current()})),u+=l.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(s=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":")",...l.current()}))),s(),e.title&&(s=n.enter(`title${o}`),u+=l.move(" "+i),u+=l.move(n.safe(e.title,{before:u,after:i,...l.current()})),u+=l.move(i),s()),u+=l.move(")"),a(),u}function Cs(e,t,n){return ti(e,n)?"<":"["}ri.peek=Es;function ri(e,t,n,r){const i=e.referenceType,o=n.enter("linkReference");let l=n.enter("label");const a=n.createTracker(r);let s=a.move("[");const u=n.containerPhrasing(e,{before:s,after:"]",...a.current()});s+=a.move(u+"]["),l();const f=n.stack;n.stack=[],l=n.enter("reference");const c=n.safe(n.associationId(e),{before:s,after:"]",...a.current()});return l(),n.stack=f,o(),i==="full"||!u||u!==c?s+=a.move(c+"]"):i==="shortcut"?s=s.slice(0,-1):s+=a.move("]"),s}function Es(){return"["}function wn(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function As(e){const t=wn(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Ts(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function ii(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function Is(e,t,n,r){const i=n.enter("list"),o=n.bulletCurrent;let l=e.ordered?Ts(n):wn(n);const a=e.ordered?l==="."?")":".":As(n);let s=t&&n.bulletLastUsed?l===n.bulletLastUsed:!1;if(!e.ordered){const f=e.children?e.children[0]:void 0;if((l==="*"||l==="-")&&f&&(!f.children||!f.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(s=!0),ii(n)===l&&f){let c=-1;for(;++c<e.children.length;){const d=e.children[c];if(d&&d.type==="listItem"&&d.children&&d.children[0]&&d.children[0].type==="thematicBreak"){s=!0;break}}}}s&&(l=a),n.bulletCurrent=l;const u=n.containerFlow(e,r);return n.bulletLastUsed=l,n.bulletCurrent=o,i(),u}function zs(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function Ps(e,t,n,r){const i=zs(n);let o=n.bulletCurrent||wn(n);t&&t.type==="list"&&t.ordered&&(o=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+o);let l=o.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(l=Math.ceil(l/4)*4);const a=n.createTracker(r);a.move(o+" ".repeat(l-o.length)),a.shift(l);const s=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,a.current()),f);return s(),u;function f(c,d,h){return d?(h?"":" ".repeat(l))+c:(h?o:o+" ".repeat(l-o.length))+c}}function Fs(e,t,n,r){const i=n.enter("paragraph"),o=n.enter("phrasing"),l=n.containerPhrasing(e,r);return o(),i(),l}const Ls=Lt(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Ms(e,t,n,r){return(e.children.some(function(l){return Ls(l)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function Rs(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}oi.peek=Ds;function oi(e,t,n,r){const i=Rs(n),o=n.enter("strong"),l=n.createTracker(r),a=l.move(i+i);let s=l.move(n.containerPhrasing(e,{after:i,before:a,...l.current()}));const u=s.charCodeAt(0),f=Ct(r.before.charCodeAt(r.before.length-1),u,i);f.inside&&(s=Me(u)+s.slice(1));const c=s.charCodeAt(s.length-1),d=Ct(r.after.charCodeAt(0),c,i);d.inside&&(s=s.slice(0,-1)+Me(c));const h=l.move(i+i);return o(),n.attentionEncodeSurroundingInfo={after:d.outside,before:f.outside},a+s+h}function Ds(e,t,n){return n.options.strong||"*"}function Bs(e,t,n,r){return n.safe(e.value,r)}function Ns(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function Os(e,t,n){const r=(ii(n)+(n.options.ruleSpaces?" ":"")).repeat(Ns(n));return n.options.ruleSpaces?r.slice(0,-1):r}const _n={blockquote:is,break:rr,code:ss,definition:cs,emphasis:Wr,hardBreak:rr,heading:ks,html:Jr,image:Kr,imageReference:Zr,inlineCode:ei,link:ni,linkReference:ri,list:Is,listItem:Ps,paragraph:Fs,root:Ms,strong:oi,text:Bs,thematicBreak:Os},$s=[js];function js(e,t,n,r){if(t.type==="code"&&sn(t,r)&&(e.type==="list"||e.type===t.type&&sn(e,r)))return!1;if("spread"in n&&typeof n.spread=="boolean")return e.type==="paragraph"&&(e.type===t.type||t.type==="definition"||t.type==="heading"&&Xr(t,r))?void 0:n.spread?1:0}const Ne=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],Vs=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:Ne},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:Ne},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:`(?:[ 	\r
*])`},{character:"*",inConstruct:"phrasing",notInConstruct:Ne},{atBreak:!0,character:"+",after:`(?:[ 	\r
])`},{atBreak:!0,character:"-",after:`(?:[ 	\r
-])`},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:Ne},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:Ne},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:Ne},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:Ne},{atBreak:!0,character:"~"}];function qs(e){return e.label||!e.identifier?e.label||"":$r(e.identifier)}function Hs(e){if(!e._compiled){const t=(e.atBreak?"[\\r\\n][\\t ]*":"")+(e.before?"(?:"+e.before+")":"");e._compiled=new RegExp((t?"("+t+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(e.after?"(?:"+e.after+")":""),"g")}return e._compiled}function Us(e,t,n){const r=t.indexStack,i=e.children||[],o=[];let l=-1,a=n.before,s;r.push(-1);let u=t.createTracker(n);for(;++l<i.length;){const f=i[l];let c;if(r[r.length-1]=l,l+1<i.length){let x=t.handle.handlers[i[l+1].type];x&&x.peek&&(x=x.peek),c=x?x(i[l+1],e,t,{before:"",after:"",...u.current()}).charAt(0):""}else c=n.after;o.length>0&&(a==="\r"||a===`
`)&&f.type==="html"&&(o[o.length-1]=o[o.length-1].replace(/(\r?\n|\r)$/," "),a=" ",u=t.createTracker(n),u.move(o.join("")));let d=t.handle(f,e,t,{...u.current(),after:c,before:a});s&&s===d.slice(0,1)&&(d=Me(s.charCodeAt(0))+d.slice(1));const h=t.attentionEncodeSurroundingInfo;t.attentionEncodeSurroundingInfo=void 0,s=void 0,h&&(o.length>0&&h.before&&a===o[o.length-1].slice(-1)&&(o[o.length-1]=o[o.length-1].slice(0,-1)+Me(a.charCodeAt(0))),h.after&&(s=c)),u.move(d),o.push(d),a=d.slice(-1)}return r.pop(),o.join("")}function Ws(e,t,n){const r=t.indexStack,i=e.children||[],o=t.createTracker(n),l=[];let a=-1;for(r.push(-1);++a<i.length;){const s=i[a];r[r.length-1]=a,l.push(o.move(t.handle(s,e,t,{before:`
`,after:`
`,...o.current()}))),s.type!=="list"&&(t.bulletLastUsed=void 0),a<i.length-1&&l.push(o.move(Ys(s,i[a+1],e,t)))}return r.pop(),l.join("")}function Ys(e,t,n,r){let i=r.join.length;for(;i--;){const o=r.join[i](e,t,n,r);if(o===!0||o===1)break;if(typeof o=="number")return`
`.repeat(1+o);if(o===!1)return`

<!---->

`}return`

`}const Gs=/\r?\n|\r/g;function Qs(e,t){const n=[];let r=0,i=0,o;for(;o=Gs.exec(e);)l(e.slice(r,o.index)),n.push(o[0]),r=o.index+o[0].length,i++;return l(e.slice(r)),n.join("");function l(a){n.push(t(a,i,!a))}}function Xs(e,t,n){const r=(n.before||"")+(t||"")+(n.after||""),i=[],o=[],l={};let a=-1;for(;++a<e.unsafe.length;){const f=e.unsafe[a];if(!Ur(e.stack,f))continue;const c=e.compilePattern(f);let d;for(;d=c.exec(r);){const h="before"in f||!!f.atBreak,x="after"in f,_=d.index+(h?d[1].length:0);i.includes(_)?(l[_].before&&!h&&(l[_].before=!1),l[_].after&&!x&&(l[_].after=!1)):(i.push(_),l[_]={before:h,after:x})}}i.sort(Js);let s=n.before?n.before.length:0;const u=r.length-(n.after?n.after.length:0);for(a=-1;++a<i.length;){const f=i[a];f<s||f>=u||f+1<u&&i[a+1]===f+1&&l[f].after&&!l[f+1].before&&!l[f+1].after||i[a-1]===f-1&&l[f].before&&!l[f-1].before&&!l[f-1].after||(s!==f&&o.push(ir(r.slice(s,f),"\\")),s=f,/[!-/:-@[-`{-~]/.test(r.charAt(f))&&(!n.encode||!n.encode.includes(r.charAt(f)))?o.push("\\"):(o.push(Me(r.charCodeAt(f))),s++))}return o.push(ir(r.slice(s,u),n.after)),o.join("")}function Js(e,t){return e-t}function ir(e,t){const n=/\\(?=[!-/:-@[-`{-~])/g,r=[],i=[],o=e+t;let l=-1,a=0,s;for(;s=n.exec(o);)r.push(s.index);for(;++l<r.length;)a!==r[l]&&i.push(e.slice(a,r[l])),i.push("\\"),a=r[l];return i.push(e.slice(a)),i.join("")}function Ks(e){const t=e||{},n=t.now||{};let r=t.lineShift||0,i=n.line||1,o=n.column||1;return{move:s,current:l,shift:a};function l(){return{now:{line:i,column:o},lineShift:r}}function a(u){r+=u}function s(u){const f=u||"",c=f.split(/\r?\n|\r/g),d=c[c.length-1];return i+=c.length-1,o=c.length===1?o+d.length:1+d.length+r,f}}function Zs(e,t){const n=t||{},r={associationId:qs,containerPhrasing:ru,containerFlow:iu,createTracker:Ks,compilePattern:Hs,enter:o,handlers:{..._n},handle:void 0,indentLines:Qs,indexStack:[],join:[...$s],options:{},safe:ou,stack:[],unsafe:[...Vs]};Hr(r,n),r.options.tightDefinitions&&r.join.push(nu),r.handle=ts("type",{invalid:eu,unknown:tu,handlers:r.handlers});let i=r.handle(e,void 0,r,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return i&&i.charCodeAt(i.length-1)!==10&&i.charCodeAt(i.length-1)!==13&&(i+=`
`),i;function o(l){return r.stack.push(l),a;function a(){r.stack.pop()}}}function eu(e){throw new Error("Cannot handle value `"+e+"`, expected node")}function tu(e){const t=e;throw new Error("Cannot handle unknown node `"+t.type+"`")}function nu(e,t){if(e.type==="definition"&&e.type===t.type)return 0}function ru(e,t){return Us(e,this,t)}function iu(e,t){return Ws(e,this,t)}function ou(e,t){return Xs(this,e,t)}function lu(e){const t=this;t.compiler=n;function n(r){return Zs(r,{...t.data("settings"),...e,extensions:t.data("toMarkdownExtensions")||[]})}}function or(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function li(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function au(e,t,n){const i=Lt((n||{}).ignore||[]),o=su(t);let l=-1;for(;++l<o.length;)Qr(e,"text",a);function a(u,f){let c=-1,d;for(;++c<f.length;){const h=f[c],x=d?d.children:void 0;if(i(h,x?x.indexOf(h):void 0,d))return;d=h}if(d)return s(u,f)}function s(u,f){const c=f[f.length-1],d=o[l][0],h=o[l][1];let x=0;const E=c.children.indexOf(u);let g=!1,C=[];d.lastIndex=0;let b=d.exec(u.value);for(;b;){const M=b.index,A={index:b.index,input:b.input,stack:[...f,u]};let y=h(...b,A);if(typeof y=="string"&&(y=y.length>0?{type:"text",value:y}:void 0),y===!1?d.lastIndex=M+1:(x!==M&&C.push({type:"text",value:u.value.slice(x,M)}),Array.isArray(y)?C.push(...y):y&&C.push(y),x=M+b[0].length,g=!0),!d.global)break;b=d.exec(u.value)}return g?(x<u.value.length&&C.push({type:"text",value:u.value.slice(x)}),c.children.splice(E,1,...C)):C=[u],E+C.length}}function su(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([uu(i[0]),cu(i[1])])}return t}function uu(e){return typeof e=="string"?new RegExp(li(e),"g"):e}function cu(e){return typeof e=="function"?e:function(){return e}}const Gt="phrasing",Qt=["autolink","link","image","label"];function fu(){return{transforms:[yu],enter:{literalAutolink:du,literalAutolinkEmail:Xt,literalAutolinkHttp:Xt,literalAutolinkWww:Xt},exit:{literalAutolink:xu,literalAutolinkEmail:gu,literalAutolinkHttp:pu,literalAutolinkWww:mu}}}function hu(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Gt,notInConstruct:Qt},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Gt,notInConstruct:Qt},{character:":",before:"[ps]",after:"\\/",inConstruct:Gt,notInConstruct:Qt}]}}function du(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Xt(e){this.config.enter.autolinkProtocol.call(this,e)}function pu(e){this.config.exit.autolinkProtocol.call(this,e)}function mu(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function gu(e){this.config.exit.autolinkEmail.call(this,e)}function xu(e){this.exit(e)}function yu(e){au(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,bu],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),ku]],{ignore:["link","linkReference"]})}function bu(e,t,n,r,i){let o="";if(!ai(i)||(/^w/i.test(t)&&(n=t+n,t="",o="http://"),!wu(n)))return!1;const l=_u(n+r);if(!l[0])return!1;const a={type:"link",title:null,url:o+t+l[0],children:[{type:"text",value:t+l[0]}]};return l[1]?[a,{type:"text",value:l[1]}]:a}function ku(e,t,n,r){return!ai(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function wu(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function _u(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=or(e,"(");let o=or(e,")");for(;r!==-1&&i>o;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),o++;return[e,n]}function ai(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||je(n)||Pt(n))&&(!t||n!==47)}si.peek=Pu;function vu(){this.buffer()}function Su(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function Cu(){this.buffer()}function Eu(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function Au(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=we(this.sliceSerialize(e)).toLowerCase(),n.label=t}function Tu(e){this.exit(e)}function Iu(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=we(this.sliceSerialize(e)).toLowerCase(),n.label=t}function zu(e){this.exit(e)}function Pu(){return"["}function si(e,t,n,r){const i=n.createTracker(r);let o=i.move("[^");const l=n.enter("footnoteReference"),a=n.enter("reference");return o+=i.move(n.safe(n.associationId(e),{after:"]",before:o})),a(),l(),o+=i.move("]"),o}function Fu(){return{enter:{gfmFootnoteCallString:vu,gfmFootnoteCall:Su,gfmFootnoteDefinitionLabelString:Cu,gfmFootnoteDefinition:Eu},exit:{gfmFootnoteCallString:Au,gfmFootnoteCall:Tu,gfmFootnoteDefinitionLabelString:Iu,gfmFootnoteDefinition:zu}}}function Lu(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:si},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,o,l){const a=o.createTracker(l);let s=a.move("[^");const u=o.enter("footnoteDefinition"),f=o.enter("label");return s+=a.move(o.safe(o.associationId(r),{before:s,after:"]"})),f(),s+=a.move("]:"),r.children&&r.children.length>0&&(a.shift(4),s+=a.move((t?`
`:" ")+o.indentLines(o.containerFlow(r,a.current()),t?ui:Mu))),u(),s}}function Mu(e,t,n){return t===0?e:ui(e,t,n)}function ui(e,t,n){return(n?"":"    ")+e}const Ru=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];ci.peek=$u;function Du(){return{canContainEols:["delete"],enter:{strikethrough:Nu},exit:{strikethrough:Ou}}}function Bu(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Ru}],handlers:{delete:ci}}}function Nu(e){this.enter({type:"delete",children:[]},e)}function Ou(e){this.exit(e)}function ci(e,t,n,r){const i=n.createTracker(r),o=n.enter("strikethrough");let l=i.move("~~");return l+=n.containerPhrasing(e,{...i.current(),before:l,after:"~"}),l+=i.move("~~"),o(),l}function $u(){return"~"}function ju(e){return e.length}function Vu(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||ju,o=[],l=[],a=[],s=[];let u=0,f=-1;for(;++f<e.length;){const _=[],E=[];let g=-1;for(e[f].length>u&&(u=e[f].length);++g<e[f].length;){const C=qu(e[f][g]);if(n.alignDelimiters!==!1){const b=i(C);E[g]=b,(s[g]===void 0||b>s[g])&&(s[g]=b)}_.push(C)}l[f]=_,a[f]=E}let c=-1;if(typeof r=="object"&&"length"in r)for(;++c<u;)o[c]=lr(r[c]);else{const _=lr(r);for(;++c<u;)o[c]=_}c=-1;const d=[],h=[];for(;++c<u;){const _=o[c];let E="",g="";_===99?(E=":",g=":"):_===108?E=":":_===114&&(g=":");let C=n.alignDelimiters===!1?1:Math.max(1,s[c]-E.length-g.length);const b=E+"-".repeat(C)+g;n.alignDelimiters!==!1&&(C=E.length+C+g.length,C>s[c]&&(s[c]=C),h[c]=C),d[c]=b}l.splice(1,0,d),a.splice(1,0,h),f=-1;const x=[];for(;++f<l.length;){const _=l[f],E=a[f];c=-1;const g=[];for(;++c<u;){const C=_[c]||"";let b="",M="";if(n.alignDelimiters!==!1){const A=s[c]-(E[c]||0),y=o[c];y===114?b=" ".repeat(A):y===99?A%2?(b=" ".repeat(A/2+.5),M=" ".repeat(A/2-.5)):(b=" ".repeat(A/2),M=b):M=" ".repeat(A)}n.delimiterStart!==!1&&!c&&g.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&C==="")&&(n.delimiterStart!==!1||c)&&g.push(" "),n.alignDelimiters!==!1&&g.push(b),g.push(C),n.alignDelimiters!==!1&&g.push(M),n.padding!==!1&&g.push(" "),(n.delimiterEnd!==!1||c!==u-1)&&g.push("|")}x.push(n.delimiterEnd===!1?g.join("").replace(/ +$/,""):g.join(""))}return x.join(`
`)}function qu(e){return e==null?"":String(e)}function lr(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function Hu(){return{enter:{table:Uu,tableData:ar,tableHeader:ar,tableRow:Yu},exit:{codeText:Gu,table:Wu,tableData:Jt,tableHeader:Jt,tableRow:Jt}}}function Uu(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function Wu(e){this.exit(e),this.data.inTable=void 0}function Yu(e){this.enter({type:"tableRow",children:[]},e)}function Jt(e){this.exit(e)}function ar(e){this.enter({type:"tableCell",children:[]},e)}function Gu(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,Qu));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function Qu(e,t){return t==="|"?t:e}function Xu(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:d,table:l,tableCell:s,tableRow:a}};function l(h,x,_,E){return u(f(h,_,E),h.align)}function a(h,x,_,E){const g=c(h,_,E),C=u([g]);return C.slice(0,C.indexOf(`
`))}function s(h,x,_,E){const g=_.enter("tableCell"),C=_.enter("phrasing"),b=_.containerPhrasing(h,{...E,before:o,after:o});return C(),g(),b}function u(h,x){return Vu(h,{align:x,alignDelimiters:r,padding:n,stringLength:i})}function f(h,x,_){const E=h.children;let g=-1;const C=[],b=x.enter("table");for(;++g<E.length;)C[g]=c(E[g],x,_);return b(),C}function c(h,x,_){const E=h.children;let g=-1;const C=[],b=x.enter("tableRow");for(;++g<E.length;)C[g]=s(E[g],h,x,_);return b(),C}function d(h,x,_){let E=_n.inlineCode(h,x,_);return _.stack.includes("tableCell")&&(E=E.replace(/\|/g,"\\$&")),E}}function Ju(){return{exit:{taskListCheckValueChecked:sr,taskListCheckValueUnchecked:sr,paragraph:Zu}}}function Ku(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:ec}}}function sr(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function Zu(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let o=-1,l;for(;++o<i.length;){const a=i[o];if(a.type==="paragraph"){l=a;break}}l===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function ec(e,t,n,r){const i=e.children[0],o=typeof e.checked=="boolean"&&i&&i.type==="paragraph",l="["+(e.checked?"x":" ")+"] ",a=n.createTracker(r);o&&a.move(l);let s=_n.listItem(e,t,n,{...r,...a.current()});return o&&(s=s.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),s;function u(f){return f+l}}function tc(){return[fu(),Fu(),Du(),Hu(),Ju()]}function nc(e){return{extensions:[hu(),Lu(e),Bu(),Xu(e),Ku()]}}const rc={tokenize:uc,partial:!0},fi={tokenize:cc,partial:!0},hi={tokenize:fc,partial:!0},di={tokenize:hc,partial:!0},ic={tokenize:dc,partial:!0},pi={name:"wwwAutolink",tokenize:ac,previous:gi},mi={name:"protocolAutolink",tokenize:sc,previous:xi},Ie={name:"emailAutolink",tokenize:lc,previous:yi},ve={};function oc(){return{text:ve}}let Oe=48;for(;Oe<123;)ve[Oe]=Ie,Oe++,Oe===58?Oe=65:Oe===91&&(Oe=97);ve[43]=Ie;ve[45]=Ie;ve[46]=Ie;ve[95]=Ie;ve[72]=[Ie,mi];ve[104]=[Ie,mi];ve[87]=[Ie,pi];ve[119]=[Ie,pi];function lc(e,t,n){const r=this;let i,o;return l;function l(c){return!un(c)||!yi.call(r,r.previous)||vn(r.events)?n(c):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),a(c))}function a(c){return un(c)?(e.consume(c),a):c===64?(e.consume(c),s):n(c)}function s(c){return c===46?e.check(ic,f,u)(c):c===45||c===95||se(c)?(o=!0,e.consume(c),s):f(c)}function u(c){return e.consume(c),i=!0,s}function f(c){return o&&i&&ie(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(c)):n(c)}}function ac(e,t,n){const r=this;return i;function i(l){return l!==87&&l!==119||!gi.call(r,r.previous)||vn(r.events)?n(l):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(rc,e.attempt(fi,e.attempt(hi,o),n),n)(l))}function o(l){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(l)}}function sc(e,t,n){const r=this;let i="",o=!1;return l;function l(c){return(c===72||c===104)&&xi.call(r,r.previous)&&!vn(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(c),e.consume(c),a):n(c)}function a(c){if(ie(c)&&i.length<5)return i+=String.fromCodePoint(c),e.consume(c),a;if(c===58){const d=i.toLowerCase();if(d==="http"||d==="https")return e.consume(c),s}return n(c)}function s(c){return c===47?(e.consume(c),o?u:(o=!0,s)):n(c)}function u(c){return c===null||St(c)||Y(c)||je(c)||Pt(c)?n(c):e.attempt(fi,e.attempt(hi,f),n)(c)}function f(c){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(c)}}function uc(e,t,n){let r=0;return i;function i(l){return(l===87||l===119)&&r<3?(r++,e.consume(l),i):l===46&&r===3?(e.consume(l),o):n(l)}function o(l){return l===null?n(l):t(l)}}function cc(e,t,n){let r,i,o;return l;function l(u){return u===46||u===95?e.check(di,s,a)(u):u===null||Y(u)||je(u)||u!==45&&Pt(u)?s(u):(o=!0,e.consume(u),l)}function a(u){return u===95?r=!0:(i=r,r=void 0),e.consume(u),l}function s(u){return i||r||!o?n(u):t(u)}}function fc(e,t){let n=0,r=0;return i;function i(l){return l===40?(n++,e.consume(l),i):l===41&&r<n?o(l):l===33||l===34||l===38||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===60||l===63||l===93||l===95||l===126?e.check(di,t,o)(l):l===null||Y(l)||je(l)?t(l):(e.consume(l),i)}function o(l){return l===41&&r++,e.consume(l),i}}function hc(e,t,n){return r;function r(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(e.consume(a),r):a===38?(e.consume(a),o):a===93?(e.consume(a),i):a===60||a===null||Y(a)||je(a)?t(a):n(a)}function i(a){return a===null||a===40||a===91||Y(a)||je(a)?t(a):r(a)}function o(a){return ie(a)?l(a):n(a)}function l(a){return a===59?(e.consume(a),r):ie(a)?(e.consume(a),l):n(a)}}function dc(e,t,n){return r;function r(o){return e.consume(o),i}function i(o){return se(o)?n(o):t(o)}}function gi(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Y(e)}function xi(e){return!ie(e)}function yi(e){return!(e===47||un(e))}function un(e){return e===43||e===45||e===46||e===95||se(e)}function vn(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const pc={tokenize:_c,partial:!0};function mc(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:bc,continuation:{tokenize:kc},exit:wc}},text:{91:{name:"gfmFootnoteCall",tokenize:yc},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:gc,resolveTo:xc}}}}function gc(e,t,n){const r=this;let i=r.events.length;const o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l;for(;i--;){const s=r.events[i][1];if(s.type==="labelImage"){l=s;break}if(s.type==="gfmFootnoteCall"||s.type==="labelLink"||s.type==="label"||s.type==="image"||s.type==="link")break}return a;function a(s){if(!l||!l._balanced)return n(s);const u=we(r.sliceSerialize({start:l.end,end:r.now()}));return u.codePointAt(0)!==94||!o.includes(u.slice(1))?n(s):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(s),e.exit("gfmFootnoteCallLabelMarker"),t(s))}}function xc(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},l={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},a=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",o,t],["enter",l,t],["exit",l,t],["exit",o,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...a),e}function yc(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o=0,l;return a;function a(c){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(c),e.exit("gfmFootnoteCallLabelMarker"),s}function s(c){return c!==94?n(c):(e.enter("gfmFootnoteCallMarker"),e.consume(c),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(c){if(o>999||c===93&&!l||c===null||c===91||Y(c))return n(c);if(c===93){e.exit("chunkString");const d=e.exit("gfmFootnoteCallString");return i.includes(we(r.sliceSerialize(d)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(c),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(c)}return Y(c)||(l=!0),o++,e.consume(c),c===92?f:u}function f(c){return c===91||c===92||c===93?(e.consume(c),o++,u):u(c)}}function bc(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o,l=0,a;return s;function s(x){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(x),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(x){return x===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(x),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",f):n(x)}function f(x){if(l>999||x===93&&!a||x===null||x===91||Y(x))return n(x);if(x===93){e.exit("chunkString");const _=e.exit("gfmFootnoteDefinitionLabelString");return o=we(r.sliceSerialize(_)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(x),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),d}return Y(x)||(a=!0),l++,e.consume(x),x===92?c:f}function c(x){return x===91||x===92||x===93?(e.consume(x),l++,f):f(x)}function d(x){return x===58?(e.enter("definitionMarker"),e.consume(x),e.exit("definitionMarker"),i.includes(o)||i.push(o),V(e,h,"gfmFootnoteDefinitionWhitespace")):n(x)}function h(x){return t(x)}}function kc(e,t,n){return e.check(ht,t,e.attempt(pc,t,n))}function wc(e){e.exit("gfmFootnoteDefinition")}function _c(e,t,n){const r=this;return V(e,i,"gfmFootnoteDefinitionIndent",5);function i(o){const l=r.events[r.events.length-1];return l&&l[1].type==="gfmFootnoteDefinitionIndent"&&l[2].sliceSerialize(l[1],!0).length===4?t(o):n(o)}}function vc(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:o,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(l,a){let s=-1;for(;++s<l.length;)if(l[s][0]==="enter"&&l[s][1].type==="strikethroughSequenceTemporary"&&l[s][1]._close){let u=s;for(;u--;)if(l[u][0]==="exit"&&l[u][1].type==="strikethroughSequenceTemporary"&&l[u][1]._open&&l[s][1].end.offset-l[s][1].start.offset===l[u][1].end.offset-l[u][1].start.offset){l[s][1].type="strikethroughSequence",l[u][1].type="strikethroughSequence";const f={type:"strikethrough",start:Object.assign({},l[u][1].start),end:Object.assign({},l[s][1].end)},c={type:"strikethroughText",start:Object.assign({},l[u][1].end),end:Object.assign({},l[s][1].start)},d=[["enter",f,a],["enter",l[u][1],a],["exit",l[u][1],a],["enter",c,a]],h=a.parser.constructs.insideSpan.null;h&&he(d,d.length,0,Ft(h,l.slice(u+1,s),a)),he(d,d.length,0,[["exit",c,a],["enter",l[s][1],a],["exit",l[s][1],a],["exit",f,a]]),he(l,u-1,s-u+3,d),s=u+d.length-2;break}}for(s=-1;++s<l.length;)l[s][1].type==="strikethroughSequenceTemporary"&&(l[s][1].type="data");return l}function o(l,a,s){const u=this.previous,f=this.events;let c=0;return d;function d(x){return u===126&&f[f.length-1][1].type!=="characterEscape"?s(x):(l.enter("strikethroughSequenceTemporary"),h(x))}function h(x){const _=Qe(u);if(x===126)return c>1?s(x):(l.consume(x),c++,h);if(c<2&&!n)return s(x);const E=l.exit("strikethroughSequenceTemporary"),g=Qe(x);return E._open=!g||g===2&&!!_,E._close=!_||_===2&&!!g,a(x)}}}class Sc{constructor(){this.map=[]}add(t,n,r){Cc(this,t,n,r)}consume(t){if(this.map.sort(function(o,l){return o[0]-l[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const o of i)t.push(o);i=r.pop()}this.map.length=0}}function Cc(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function Ec(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const o=r.length-1;r[o]=r[o]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function Ac(){return{flow:{null:{name:"table",tokenize:Tc,resolveAll:Ic}}}}function Tc(e,t,n){const r=this;let i=0,o=0,l;return a;function a(w){let P=r.events.length-1;for(;P>-1;){const Q=r.events[P][1].type;if(Q==="lineEnding"||Q==="linePrefix")P--;else break}const F=P>-1?r.events[P][1].type:null,U=F==="tableHead"||F==="tableRow"?y:s;return U===y&&r.parser.lazy[r.now().line]?n(w):U(w)}function s(w){return e.enter("tableHead"),e.enter("tableRow"),u(w)}function u(w){return w===124||(l=!0,o+=1),f(w)}function f(w){return w===null?n(w):z(w)?o>1?(o=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(w),e.exit("lineEnding"),h):n(w):N(w)?V(e,f,"whitespace")(w):(o+=1,l&&(l=!1,i+=1),w===124?(e.enter("tableCellDivider"),e.consume(w),e.exit("tableCellDivider"),l=!0,f):(e.enter("data"),c(w)))}function c(w){return w===null||w===124||Y(w)?(e.exit("data"),f(w)):(e.consume(w),w===92?d:c)}function d(w){return w===92||w===124?(e.consume(w),c):c(w)}function h(w){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(w):(e.enter("tableDelimiterRow"),l=!1,N(w)?V(e,x,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(w):x(w))}function x(w){return w===45||w===58?E(w):w===124?(l=!0,e.enter("tableCellDivider"),e.consume(w),e.exit("tableCellDivider"),_):A(w)}function _(w){return N(w)?V(e,E,"whitespace")(w):E(w)}function E(w){return w===58?(o+=1,l=!0,e.enter("tableDelimiterMarker"),e.consume(w),e.exit("tableDelimiterMarker"),g):w===45?(o+=1,g(w)):w===null||z(w)?M(w):A(w)}function g(w){return w===45?(e.enter("tableDelimiterFiller"),C(w)):A(w)}function C(w){return w===45?(e.consume(w),C):w===58?(l=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(w),e.exit("tableDelimiterMarker"),b):(e.exit("tableDelimiterFiller"),b(w))}function b(w){return N(w)?V(e,M,"whitespace")(w):M(w)}function M(w){return w===124?x(w):w===null||z(w)?!l||i!==o?A(w):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(w)):A(w)}function A(w){return n(w)}function y(w){return e.enter("tableRow"),S(w)}function S(w){return w===124?(e.enter("tableCellDivider"),e.consume(w),e.exit("tableCellDivider"),S):w===null||z(w)?(e.exit("tableRow"),t(w)):N(w)?V(e,S,"whitespace")(w):(e.enter("data"),L(w))}function L(w){return w===null||w===124||Y(w)?(e.exit("data"),S(w)):(e.consume(w),w===92?O:L)}function O(w){return w===92||w===124?(e.consume(w),L):L(w)}}function Ic(e,t){let n=-1,r=!0,i=0,o=[0,0,0,0],l=[0,0,0,0],a=!1,s=0,u,f,c;const d=new Sc;for(;++n<e.length;){const h=e[n],x=h[1];h[0]==="enter"?x.type==="tableHead"?(a=!1,s!==0&&(ur(d,t,s,u,f),f=void 0,s=0),u={type:"table",start:Object.assign({},x.start),end:Object.assign({},x.end)},d.add(n,0,[["enter",u,t]])):x.type==="tableRow"||x.type==="tableDelimiterRow"?(r=!0,c=void 0,o=[0,0,0,0],l=[0,n+1,0,0],a&&(a=!1,f={type:"tableBody",start:Object.assign({},x.start),end:Object.assign({},x.end)},d.add(n,0,[["enter",f,t]])),i=x.type==="tableDelimiterRow"?2:f?3:1):i&&(x.type==="data"||x.type==="tableDelimiterMarker"||x.type==="tableDelimiterFiller")?(r=!1,l[2]===0&&(o[1]!==0&&(l[0]=l[1],c=gt(d,t,o,i,void 0,c),o=[0,0,0,0]),l[2]=n)):x.type==="tableCellDivider"&&(r?r=!1:(o[1]!==0&&(l[0]=l[1],c=gt(d,t,o,i,void 0,c)),o=l,l=[o[1],n,0,0])):x.type==="tableHead"?(a=!0,s=n):x.type==="tableRow"||x.type==="tableDelimiterRow"?(s=n,o[1]!==0?(l[0]=l[1],c=gt(d,t,o,i,n,c)):l[1]!==0&&(c=gt(d,t,l,i,n,c)),i=0):i&&(x.type==="data"||x.type==="tableDelimiterMarker"||x.type==="tableDelimiterFiller")&&(l[3]=n)}for(s!==0&&ur(d,t,s,u,f),d.consume(t.events),n=-1;++n<t.events.length;){const h=t.events[n];h[0]==="enter"&&h[1].type==="table"&&(h[1]._align=Ec(t.events,n))}return e}function gt(e,t,n,r,i,o){const l=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",a="tableContent";n[0]!==0&&(o.end=Object.assign({},Ye(t.events,n[0])),e.add(n[0],0,[["exit",o,t]]));const s=Ye(t.events,n[1]);if(o={type:l,start:Object.assign({},s),end:Object.assign({},s)},e.add(n[1],0,[["enter",o,t]]),n[2]!==0){const u=Ye(t.events,n[2]),f=Ye(t.events,n[3]),c={type:a,start:Object.assign({},u),end:Object.assign({},f)};if(e.add(n[2],0,[["enter",c,t]]),r!==2){const d=t.events[n[2]],h=t.events[n[3]];if(d[1].end=Object.assign({},h[1].end),d[1].type="chunkText",d[1].contentType="text",n[3]>n[2]+1){const x=n[2]+1,_=n[3]-n[2]-1;e.add(x,_,[])}}e.add(n[3]+1,0,[["exit",c,t]])}return i!==void 0&&(o.end=Object.assign({},Ye(t.events,i)),e.add(i,0,[["exit",o,t]]),o=void 0),o}function ur(e,t,n,r,i){const o=[],l=Ye(t.events,n);i&&(i.end=Object.assign({},l),o.push(["exit",i,t])),r.end=Object.assign({},l),o.push(["exit",r,t]),e.add(n+1,0,o)}function Ye(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const zc={name:"tasklistCheck",tokenize:Fc};function Pc(){return{text:{91:zc}}}function Fc(e,t,n){const r=this;return i;function i(s){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(s):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(s),e.exit("taskListCheckMarker"),o)}function o(s){return Y(s)?(e.enter("taskListCheckValueUnchecked"),e.consume(s),e.exit("taskListCheckValueUnchecked"),l):s===88||s===120?(e.enter("taskListCheckValueChecked"),e.consume(s),e.exit("taskListCheckValueChecked"),l):n(s)}function l(s){return s===93?(e.enter("taskListCheckMarker"),e.consume(s),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),a):n(s)}function a(s){return z(s)?t(s):N(s)?e.check({tokenize:Lc},t,n)(s):n(s)}}function Lc(e,t,n){return V(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function Mc(e){return Ir([oc(),mc(),vc(e),Ac(),Pc()])}const Rc={};function bi(e){const t=this,n=e||Rc,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),o=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),l=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(Mc(n)),o.push(tc()),l.push(nc(n))}var Kt={exports:{}},cr;function Dc(){return cr||(cr=1,(function(e){(function(){var t;t=e.exports=i,t.format=i,t.vsprintf=r,typeof console<"u"&&typeof console.log=="function"&&(t.printf=n);function n(){console.log(i.apply(null,arguments))}function r(o,l){return i.apply(null,[o].concat(l))}function i(o){for(var l=1,a=[].slice.call(arguments),s=0,u=o.length,f="",c,d=!1,h,x,_=!1,E,g=function(){return a[l++]},C=function(){for(var b="";/\d/.test(o[s]);)b+=o[s++],c=o[s];return b.length>0?parseInt(b):null};s<u;++s)if(c=o[s],d)switch(d=!1,c=="."?(_=!1,c=o[++s]):c=="0"&&o[s+1]=="."?(_=!0,s+=2,c=o[s]):_=!0,E=C(),c){case"b":f+=parseInt(g(),10).toString(2);break;case"c":h=g(),typeof h=="string"||h instanceof String?f+=h:f+=String.fromCharCode(parseInt(h,10));break;case"d":f+=parseInt(g(),10);break;case"f":x=String(parseFloat(g()).toFixed(E||6)),f+=_?x:x.replace(/^0/,"");break;case"j":f+=JSON.stringify(g());break;case"o":f+="0"+parseInt(g(),10).toString(8);break;case"s":f+=g();break;case"x":f+="0x"+parseInt(g(),10).toString(16);break;case"X":f+="0x"+parseInt(g(),10).toString(16).toUpperCase();break;default:f+=c;break}else c==="%"?d=!0:f+=c;return f}})()})(Kt)),Kt.exports}var Bc=Dc();const Nc=Er(Bc),xt=Object.assign($e(Error),{eval:$e(EvalError),range:$e(RangeError),reference:$e(ReferenceError),syntax:$e(SyntaxError),type:$e(TypeError),uri:$e(URIError)});function $e(e){return t.displayName=e.displayName||e.name,t;function t(n,...r){const i=n&&Nc(n,...r);return new e(i)}}const yt={}.hasOwnProperty,fr={yaml:"-",toml:"+"};function Sn(e){const t=[];let n=-1;const r=Array.isArray(e)?e:e?[e]:["yaml"];for(;++n<r.length;)t[n]=Oc(r[n]);return t}function Oc(e){let t=e;if(typeof t=="string"){if(!yt.call(fr,t))throw xt("Missing matter definition for `%s`",t);t={type:t,marker:fr[t]}}else if(typeof t!="object")throw xt("Expected matter to be an object, not `%j`",t);if(!yt.call(t,"type"))throw xt("Missing `type` in matter `%j`",t);if(!yt.call(t,"fence")&&!yt.call(t,"marker"))throw xt("Missing `marker` or `fence` in matter `%j`",t);return t}function $c(e){const t=Sn(e),n={};let r=-1;for(;++r<t.length;){const i=t[r],o=cn(i,"open").charCodeAt(0),l=jc(i),a=n[o];Array.isArray(a)?a.push(l):n[o]=[l]}return{flow:n}}function jc(e){const t=e.anywhere,n=e.type,r=n+"Fence",i=r+"Sequence",o=n+"Value",l={tokenize:f,partial:!0};let a,s=0;return{tokenize:u,concrete:!0};function u(c,d,h){const x=this;return _;function _(S){const L=x.now();return L.column===1&&(L.line===1||t)&&(a=cn(e,"open"),s=0,S===a.charCodeAt(s))?(c.enter(n),c.enter(r),c.enter(i),E(S)):h(S)}function E(S){return s===a.length?(c.exit(i),N(S)?(c.enter("whitespace"),g(S)):C(S)):S===a.charCodeAt(s++)?(c.consume(S),E):h(S)}function g(S){return N(S)?(c.consume(S),g):(c.exit("whitespace"),C(S))}function C(S){return z(S)?(c.exit(r),c.enter("lineEnding"),c.consume(S),c.exit("lineEnding"),a=cn(e,"close"),s=0,c.attempt(l,y,b)):h(S)}function b(S){return S===null||z(S)?A(S):(c.enter(o),M(S))}function M(S){return S===null||z(S)?(c.exit(o),A(S)):(c.consume(S),M)}function A(S){return S===null?h(S):(c.enter("lineEnding"),c.consume(S),c.exit("lineEnding"),c.attempt(l,y,b))}function y(S){return c.exit(n),d(S)}}function f(c,d,h){let x=0;return _;function _(b){return b===a.charCodeAt(x)?(c.enter(r),c.enter(i),E(b)):h(b)}function E(b){return x===a.length?(c.exit(i),N(b)?(c.enter("whitespace"),g(b)):C(b)):b===a.charCodeAt(x++)?(c.consume(b),E):h(b)}function g(b){return N(b)?(c.consume(b),g):(c.exit("whitespace"),C(b))}function C(b){return b===null||z(b)?(c.exit(r),d(b)):h(b)}}}function cn(e,t){return e.marker?hr(e.marker,t).repeat(3):hr(e.fence,t)}function hr(e,t){return typeof e=="string"?e:e[t]}function Vc(e){const t=Sn(e),n={},r={};let i=-1;for(;++i<t.length;){const o=t[i];n[o.type]=qc(o),r[o.type]=Hc,r[o.type+"Value"]=Uc}return{enter:n,exit:r}}function qc(e){return t;function t(n){this.enter({type:e.type,value:""},n),this.buffer()}}function Hc(e){const t=this.resume(),n=this.stack[this.stack.length-1];this.exit(e),n.value=t.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,"")}function Uc(e){this.config.enter.data.call(this,e),this.config.exit.data.call(this,e)}function Wc(e){const t=[],n={},r=Sn(e);let i=-1;for(;++i<r.length;){const o=r[i];n[o.type]=Yc(o);const l=fn(o,"open");t.push({atBreak:!0,character:l.charAt(0),after:li(l.charAt(1))})}return{unsafe:t,handlers:n}}function Yc(e){const t=fn(e,"open"),n=fn(e,"close");return r;function r(i){return t+(i.value?`
`+i.value:"")+`
`+n}}function fn(e,t){return e.marker?dr(e.marker,t).repeat(3):dr(e.fence,t)}function dr(e,t){return typeof e=="string"?e:e[t]}const Gc="yaml";function ki(e){const t=this,n=e||Gc,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),o=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),l=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push($c(n)),o.push(Vc(n)),l.push(Wc(n))}const Qc=new Set(["code","inlineCode","html","yaml","toml","math","mdxjsEsm","mdxFlowExpression","mdxTextExpression"]),Xc=12e4,Jc=3e3,Kc=8,Zc=4e3,ef=500,tf=8e3;function pr(e,t){if(typeof e!="string"||e.trim().length===0)throw new Error(`Invalid config "${t}": expected a non-empty string`);return e}function Fe(e,t,n={}){const r=n.min??Number.NEGATIVE_INFINITY,i=n.max??Number.POSITIVE_INFINITY,o=Number(e);if(!Number.isInteger(o)||o<r||o>i)throw new Error(`Invalid config "${t}": expected integer in [${r}, ${i}], got ${String(e)}`);return o}function nf(e,t,n={}){const r=n.min??Number.NEGATIVE_INFINITY,i=n.max??Number.POSITIVE_INFINITY,o=Number(e);if(!Number.isFinite(o)||o<r||o>i)throw new Error(`Invalid config "${t}": expected number in [${r}, ${i}], got ${String(e)}`);return o}function rf(e){return!(e==null||typeof e=="string"&&e.trim().length===0)}function of(e){return Math.max(Zc,Math.ceil(e*Kc))}function lf(e){const t=e.max_batch_tokens??Jc,n={...e,timeout_ms:e.timeout_ms??Xc,max_batch_chars:rf(e.max_batch_chars)?Number(e.max_batch_chars):of(Number(t)),max_batch_tokens:t,retry_base_delay_ms:e.retry_base_delay_ms??ef,retry_max_delay_ms:e.retry_max_delay_ms??tf};if(n.base_url=pr(n.base_url,"base_url"),n.model=pr(n.model,"model"),n.retry_times=Fe(n.retry_times,"retry_times",{min:1,max:20}),n.temperature=nf(n.temperature,"temperature",{min:0,max:2}),n.max_tokens=Fe(n.max_tokens,"max_tokens",{min:1}),n.timeout_ms=Fe(n.timeout_ms,"timeout_ms",{min:1e3}),n.max_batch_tokens=Fe(n.max_batch_tokens,"max_batch_tokens",{min:128}),n.max_batch_chars=Fe(n.max_batch_chars,"max_batch_chars",{min:1}),n.max_batch_segments=Fe(n.max_batch_segments,"max_batch_segments",{min:1}),n.retry_base_delay_ms=Fe(n.retry_base_delay_ms,"retry_base_delay_ms",{min:0,max:6e4}),n.retry_max_delay_ms=Fe(n.retry_max_delay_ms,"retry_max_delay_ms",{min:100,max:12e4}),n.retry_max_delay_ms<n.retry_base_delay_ms)throw new Error('Invalid config "retry_max_delay_ms": must be greater than or equal to retry_base_delay_ms');return n}function mr(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function af(e){return/^[A-Za-z0-9]+$/.test(e)?new RegExp(`\\b${mr(e)}\\b`,"i"):new RegExp(mr(e),"i")}function sf(e){return Object.entries(e).filter(([t,n])=>t&&n).map(([t,n])=>({source:t,target:n,regex:af(t)}))}function uf(e,t){const n=[];for(const r of t)r.regex.test(e)&&n.push(r);return n}function cf(e){const t=[];return Rt(e,n=>{const r=n;if(Qc.has(r.type))return Gr;r.type==="text"&&t.push({text:r.value??"",set(i){r.value=i}})}),t}function ff(e){const t=(e??"").trim().toLowerCase();return t==="md"||t==="markdown"}const hf=Ar().use(qr).use(bi).use(ki,["yaml","toml"]),df=new Set(["heading","list","blockquote","thematicBreak","table","code","html","yaml","toml","definition","footnoteDefinition"]),pf=new Set(["link","image","strong","emphasis","delete","inlineCode","footnoteReference","linkReference","imageReference","break"]);function mf(e){const t=e.replace(/\r\n/g,`
`).trim();if(!t)return!1;let n;try{n=hf.parse(t)}catch{return!1}const r=n;if(!Array.isArray(r.children)||r.children.length===0)return!1;let i=!1;return Rt(n,(o,l,a)=>{const s=o,u=a,f=s.type??"";if(df.has(f)||u?.type==="paragraph"&&pf.has(f))return i=!0,st}),i}function gf(e,t){return ff(e)?!0:(e??"").trim().length>0?!1:mf(t)}function xf(e){const t=[];return Rt(e,n=>{const r=n;if(r.type!=="code")return;const i=r.value??"";gf(r.lang,i)&&t.push({text:i,set(o){r.value=o}})}),t}function yf(e,t){return/\r?\n$/.test(e)?t:t.replace(/\r?\n$/,"")}function bf(e){return e>=48&&e<=57||e>=65&&e<=90||e>=97&&e<=122||e===95}function kf(e){return e>=13312&&e<=19903||e>=19968&&e<=40959||e>=63744&&e<=64255||e>=12352&&e<=12543||e>=44032&&e<=55215}function wi(e){if(!e)return 0;let t=0,n=0;const r=()=>{n>0&&(t+=Math.ceil(n/4),n=0)};for(const i of e){const o=i.codePointAt(0);if(typeof o=="number"){if(o<=127&&bf(o)){n+=1;continue}if(r(),!(i===" "||i===`
`||i==="\r"||i==="	")){if(kf(o)){t+=1;continue}t+=1}}}return r(),Math.max(1,Math.ceil(t*1.1))}function wf(e){return wi(e)+12}function _f(e,t,n){const r=[];let i=[],o=0,l=n.baseTokens;for(const a of e){const s=t[a].text,u=s.length,f=wf(s),c=i.length>=n.maxSegments,d=o+u>n.maxChars&&i.length>0,h=l+f>n.maxTokens&&i.length>0;(c||d||h)&&(r.push(i),i=[],o=0,l=n.baseTokens),i.push(a),o+=u,l+=f}return i.length>0&&r.push(i),r}function vf(e){const t={source_language:"English",target_language:"Simplified Chinese",glossary:e.glossaryEntries.map(n=>({source:n.source,target:n.target})),segments:e.segments};return e.missingEntries&&e.missingEntries.length>0&&(t.missing_terms=e.missingEntries.map(n=>({source:n.source,target:n.target}))),t}function Sf(e){return`INPUT JSON:
${JSON.stringify(e,null,2)}

Return JSON only with the exact shape: {"translations": [{"id": <id>, "text": <translated>}, ...]}.
- Include one item for every input segment id.
- Every segment must be translated to Simplified Chinese.
- Do not return the original English text unless the segment is only punctuation, symbols, or numbers.`}function Cf(e){return`INPUT JSON:
${JSON.stringify(e,null,2)}

Return JSON only with the exact shape: {"decisions": [{"id": <id>, "accept": <true|false>, "reason": <string>}, ...]}.`}function Ef(e){return e.map((t,n)=>t&&typeof t=="object"&&"text"in t?{id:t.id??n,text:String(t.text??"")}:{id:n,text:String(t??"")})}function _i(e){let t=e.trim();t.startsWith("```")&&(t=t.replace(/^```[a-z]*\n?/i,"").replace(/```$/,"").trim());try{return JSON.parse(t)}catch{const n=t.indexOf("{"),r=t.lastIndexOf("}");if(n===-1||r===-1||r<=n)throw new Error("Failed to parse JSON from model response");const i=t.slice(n,r+1);return JSON.parse(i)}}function Af(e){if(typeof e=="boolean")return e;if(typeof e=="number")return e!==0;if(typeof e=="string"){const t=e.trim().toLowerCase();if(["true","yes","y","1"].includes(t))return!0;if(["false","no","n","0"].includes(t))return!1}return!1}function Tf(e){if(typeof e=="string")return e;if(e&&typeof e=="object"){const t=e;if(typeof t.text=="string")return t.text;if(typeof t.translation=="string")return t.translation;if(typeof t.value=="string")return t.value}return String(e??"")}function If(e,t){const n=e;if(!n||!Array.isArray(n.translations))throw new Error("Model response missing translations array");const r=n.translations,i=t.map(a=>a.id);if(r.every(a=>typeof a=="string"))return{translations:r.map(a=>String(a)),missingIds:[]};const l=new Map;for(const a of r){if(!a||typeof a!="object")continue;const s=a,u=s.id??s.index??s.key,f=s.text??s.translation??s.value;if(u===void 0||f===void 0)continue;const c=Number(u);Number.isNaN(c)||l.set(c,String(f))}if(l.size>0){const a=i.map(u=>l.get(u)),s=i.filter((u,f)=>a[f]===void 0);return{translations:a,missingIds:s}}return{translations:r.map(Tf),missingIds:[]}}function wt(e){const t=new Error("Model returned incorrect number of translations");return t.code="TRANSLATION_COUNT_MISMATCH",t.expected=e.expected,t.actual=e.actual,e.missingIds&&e.missingIds.length>0&&(t.missingIds=e.missingIds),t}function zf(e){const t=e.cause instanceof Error?e.cause.message:String(e.cause??"unknown error"),n=new Error(`Translation failed for ${e.pendingCount} segments after ${e.attempts} attempts: ${t}`);return n.code="TRANSLATION_BATCH_FAILED",n.pendingCount=e.pendingCount,n.attempts=e.attempts,n}function Cn(e){if(!e||typeof e!="object")return!1;const t=e;return t.code==="TRANSLATION_COUNT_MISMATCH"?!0:!!(t.message&&t.message.includes("incorrect number of translations"))}function Pf(e){return!e||typeof e!="object"?!1:e.code==="TRANSLATION_BATCH_FAILED"}function Ff(e){if(!e||typeof e!="object")return;const t=e.statusCode;if(Number.isInteger(t))return Number(t);const n=e.message;if(typeof n!="string")return;const r=n.match(/\bAPI error (\d{3})\b/i);if(r)return Number(r[1])}function Lf(e){if(!e||typeof e!="object")return;const t=e.retryAfterMs;if(Number.isFinite(t)&&Number(t)>=0)return Math.floor(Number(t))}function Mf(e){const t=Ff(e),n=e&&typeof e=="object"&&typeof e.message=="string"?e.message:"",r=n.toLowerCase();return Cn(e)?{retryable:!0,category:"response_shape",statusCode:t}:t===429?{retryable:!0,category:"rate_limit",statusCode:t}:t===408||t===409||t===425?{retryable:!0,category:"transient_http",statusCode:t}:typeof t=="number"&&t>=500?{retryable:!0,category:"server_error",statusCode:t}:typeof t=="number"&&t>=400&&t<500?{retryable:!1,category:"client_error",statusCode:t}:(e&&typeof e=="object"?e.isTimeout===!0||e.name==="AbortError":!1)||r.includes("timeout")||r.includes("timed out")||r.includes("aborted")?{retryable:!0,category:"timeout",statusCode:t}:/(network|fetch failed|socket hang up|econnreset|enotfound|eai_again|econnrefused|failed to fetch)/i.test(n)?{retryable:!0,category:"network",statusCode:t}:/(json|parse|response missing|incorrect number of translations)/i.test(n)?{retryable:!0,category:"response_shape",statusCode:t}:{retryable:!0,category:"unknown",statusCode:t}}function Rf(e){const t=Math.max(0,Math.floor(e.config.retry_base_delay_ms)),n=Math.max(t,Math.floor(e.config.retry_max_delay_ms)),r=Math.max(0,e.attempt-1),i=o=>Math.floor(Math.random()*o);if(e.retryPolicy.category==="rate_limit"){const o=Lf(e.error);if(typeof o=="number")return Math.min(n,Math.max(t,o));const l=t*2*2**r+i(Math.max(50,Math.floor(t*.5)));return Math.min(n,l)}if(e.retryPolicy.category==="server_error"||e.retryPolicy.category==="network"||e.retryPolicy.category==="timeout"||e.retryPolicy.category==="transient_http"||e.retryPolicy.category==="unknown"){const o=t*2**r+i(Math.max(50,Math.floor(t*.3)));return Math.min(n,o)}if(e.retryPolicy.category==="response_shape"){const o=200*2**r+i(80);return Math.min(n,Math.max(100,o))}return t}async function Df(e){!e||e<=0||await new Promise(t=>{setTimeout(t,e)})}function Bf(e){const t=new Map;for(const n of e)for(const r of n)t.has(r.source)||t.set(r.source,r);return Array.from(t.values())}function Nf(e,t,n){const r=new Map;return e.forEach((i,o)=>{const l=t[i];if(!l||l.length===0)return;const a=n[o]||"",s=l.filter(u=>!a.includes(u.target));s.length>0&&r.set(i,s)}),r}function Of(e){const t=new Map;for(const n of e.values())for(const r of n)t.has(r.source)||t.set(r.source,r);return Array.from(t.values())}async function $f(e){const t=Ef(e.segments),n=vf({segments:t,glossaryEntries:e.glossaryEntries,missingEntries:e.missingEntries}),r=[{role:"system",content:e.prompt.trim()},{role:"user",content:Sf(n)}];let i;try{i=await e.chatCompletion({baseUrl:e.config.base_url,apiKey:e.config.api_key,model:e.config.model,messages:r,temperature:e.config.temperature,max_tokens:e.config.max_tokens,timeoutMs:e.config.timeout_ms})}catch(s){throw e.logger?.error&&await e.logger.error("chat_completion_failed",{type:"translation",error:s.message||String(s),request:{messages:r}}),s}let o;try{o=_i(i)}catch(s){throw e.logger?.error&&await e.logger.error("parse_translation_response_failed",{type:"translation",error:s.message||String(s),request:{messages:r},response:i}),s}const l=If(o,t),a=l.translations.map(s=>typeof s=="string"?s:String(s??""));if(l.missingIds&&l.missingIds.length>0){const s=wt({expected:t.length,actual:a.filter(u=>u!==void 0).length,missingIds:l.missingIds});throw e.logger?.error&&await e.logger.error("translation_count_mismatch",{type:"translation",error:s.message,request:{messages:r},response:i}),s}if(a.length!==t.length){const s=wt({expected:t.length,actual:a.length});throw e.logger?.error&&await e.logger.error("translation_count_mismatch",{type:"translation",error:s.message,request:{messages:r},response:i}),s}if(a.some(s=>s===void 0)){const s=wt({expected:t.length,actual:a.filter(u=>u!==void 0).length});throw e.logger?.error&&await e.logger.error("translation_count_mismatch",{type:"translation",error:s.message,request:{messages:r},response:i}),s}return a}async function jf(e){if(!e.judgePrompt||e.items.length===0)return new Map;const t={items:e.items},n=[{role:"system",content:e.judgePrompt.trim()},{role:"user",content:Cf(t)}];let r;try{r=await e.chatCompletion({baseUrl:e.config.base_url,apiKey:e.config.api_key,model:e.config.model,messages:n,temperature:e.config.temperature,max_tokens:e.config.max_tokens,timeoutMs:e.config.timeout_ms})}catch(a){throw e.logger?.error&&await e.logger.error("chat_completion_failed",{type:"glossary_judge",error:a.message||String(a),request:{messages:n}}),new Error(`Glossary judge request failed: ${a.message}`)}let i;try{i=_i(r)}catch(a){throw e.logger?.error&&await e.logger.error("parse_judge_response_failed",{type:"glossary_judge",error:a.message||String(a),request:{messages:n},response:r}),new Error(`Glossary judge response parse failed: ${a.message}`)}const o=i;if(!o||!Array.isArray(o.decisions))throw new Error("Judge response missing decisions array");const l=new Map;for(const a of o.decisions){if(!a||typeof a!="object")continue;const s=a,u=s.id??s.index??s.key,f=Number(u);Number.isNaN(f)||l.set(f,{accept:Af(s.accept??s.approve??s.ok),reason:typeof s.reason=="string"?s.reason:""})}return l}async function gr(e){let t=[...e.batchIndices],n=0,r=[],i=null;for(;t.length>0&&n<e.config.retry_times;){n+=1;const o=t.map(s=>({id:s,text:e.segments[s].text})),l=t.map(s=>e.segmentTerms[s]),a=Bf(l);try{const s=await $f({segments:o,glossaryEntries:a,missingEntries:r,config:e.config,prompt:e.prompt,logger:e.logger,chatCompletion:e.chatCompletion});if(s.length!==o.length)throw wt({expected:o.length,actual:s.length});i={pending:[...t],translations:s},t.forEach((c,d)=>{e.translations[c]=s[d]});const u=Nf(t,e.segmentTerms,s);if(u.size>0){const c=new Map;t.forEach((h,x)=>{c.set(h,s[x])});const d=Array.from(u.entries()).map(([h,x])=>({id:h,source:e.segments[h].text,translation:c.get(h)??"",missing_terms:x.map(_=>({source:_.source,target:_.target}))}));try{const h=await jf({items:d,config:e.config,judgePrompt:e.judgePrompt,logger:e.logger,chatCompletion:e.chatCompletion});if(h.size>0)for(const[x,_]of h.entries())_&&_.accept&&u.delete(x)}catch(h){console.warn(`Glossary judge failed. Continuing with retries. Error: ${h.message}`),e.logger?.warn&&await e.logger.warn("glossary_judge_failed",{error:h.message||String(h),items:d})}}const f=new Set([...u.keys()]);if(f.size===0){t=[];break}if(r=Of(u),t=Array.from(f),r.length>0){const c=r.map(d=>`${d.source} -> ${d.target}`).join(", ");console.warn(`Glossary check failed. Retrying. Missing terms: ${c}`)}}catch(s){const u=Mf(s);if(!u.retryable){if(!i)throw e.logger?.error&&await e.logger.error("translation_non_retryable_error",{error:s.message||String(s),category:u.category,status_code:u.statusCode}),s;console.warn("Non-retryable translation error encountered. Using last available translations."),e.logger?.warn&&await e.logger.warn("translation_non_retryable_after_success",{error:s.message||String(s),category:u.category,status_code:u.statusCode,pendingCount:t.length}),t=[];break}if(n>=e.config.retry_times){if(Cn(s)&&e.batchIndices.length>1)throw s;if(!i){const d=zf({attempts:e.config.retry_times,pendingCount:t.length,cause:s});throw e.logger?.error&&await e.logger.error("translation_batch_failed",{error:d.message,pendingCount:t.length,attempts:e.config.retry_times}),d}console.warn("Translation retries exhausted. Using last available translations."),e.logger?.warn&&await e.logger.warn("translation_retries_exhausted",{error:s.message||String(s),pendingCount:t.length}),t=[];break}const f=Rf({attempt:n,config:e.config,retryPolicy:u,error:s}),c=typeof u.statusCode=="number"?` (status ${u.statusCode})`:"";console.warn(`Translation attempt failed${c}. Retrying in ${f}ms. Error: ${s.message}`),e.logger?.warn&&await e.logger.warn("translation_attempt_failed",{error:s.message||String(s),category:u.category,status_code:u.statusCode,retry_delay_ms:f,attempt:n,max_attempts:e.config.retry_times}),await Df(f)}}if(t.length>0){const o=r.map(l=>`${l.source} -> ${l.target}`).join(", ");console.warn(`Glossary check failed after retries. Using last available translations. Missing terms: ${o}`),e.logger?.warn&&await e.logger.warn("glossary_check_failed_after_retries",{missing_terms:r.map(l=>({source:l.source,target:l.target}))})}}async function Vf(e){const t=new Array(e.segments.length),n=e.segments.map((a,s)=>({segment:a,index:s})).filter(({segment:a})=>a.text.trim().length>0).map(({index:a})=>a);e.segments.forEach((a,s)=>{a.text.trim().length===0&&(t[s]=a.text)});const r=n.length;let i=0;e.onProgress&&(r===0?e.onProgress({done:1,total:1}):e.onProgress({done:0,total:r}));const o=wi(e.prompt)+96,l=_f(n,e.segments,{maxChars:e.config.max_batch_chars,maxTokens:e.config.max_batch_tokens,maxSegments:e.config.max_batch_segments,baseTokens:o});for(const a of l)try{await gr({batchIndices:a,segments:e.segments,segmentTerms:e.segmentTerms,config:e.config,prompt:e.prompt,judgePrompt:e.judgePrompt,translations:t,logger:e.logger,chatCompletion:e.chatCompletion}),i+=a.length,e.onProgress&&e.onProgress({done:i,total:r})}catch(s){if((Cn(s)||Pf(s))&&a.length>1){console.warn("Batch translation failed. Retrying with single-segment batches.");for(const u of a)await gr({batchIndices:[u],segments:e.segments,segmentTerms:e.segmentTerms,config:e.config,prompt:e.prompt,judgePrompt:e.judgePrompt,translations:t,logger:e.logger,chatCompletion:e.chatCompletion}),i+=1,e.onProgress&&e.onProgress({done:i,total:r});continue}throw s}return t}async function vi(e,t,n){const r=Ar().use(qr).use(bi).use(ki,["yaml","toml"]).use(lu,{bullet:"-",fences:!0,listItemIndent:"one"}),i=r.parse(e),o=cf(i),l=t.translateMarkdownCodeBlocks?xf(i):[];if(o.length===0&&l.length===0)return n&&t.onProgress&&t.onProgress({done:1,total:1}),e;if(o.length>0){const s=sf(t.glossary),u=o.map(c=>uf(c.text,s)),f=await Vf({segments:o,segmentTerms:u,config:t.config,prompt:t.prompt,judgePrompt:t.judgePrompt,onProgress:n?t.onProgress:void 0,logger:t.logger,chatCompletion:t.chatCompletion});o.forEach((c,d)=>{c.set(f[d])})}else n&&t.onProgress&&l.length>0&&t.onProgress({done:0,total:1});if(l.length>0){for(const s of l){const u=await vi(s.text,t,!1);s.set(yf(s.text,u))}n&&t.onProgress&&o.length===0&&t.onProgress({done:1,total:1})}return r.stringify(i)}async function qf(e,t){const n={...t,config:lf(t.config)};return vi(e,n,!0)}const Hf=["accept","multiple"],Uf={class:"flex flex-col items-center justify-center gap-3 text-center"},Wf={class:"space-y-1"},Yf={class:"text-sm font-medium"},Gf={key:0},Qf={key:1},Xf={class:"text-xs text-muted-foreground"},Jf=J({__name:"FileUpload",props:{multiple:{type:Boolean,default:!1},accept:{default:".md,.markdown,.txt"},class:{}},emits:["select"],setup(e,{emit:t}){const n=e,r=t,i=G(!1),o=G(null);function l(c){const d=c.target;d.files&&d.files.length>0&&(r("select",Array.from(d.files)),d.value="")}function a(c){c.preventDefault(),i.value=!1,c.dataTransfer?.files&&r("select",Array.from(c.dataTransfer.files))}function s(c){c.preventDefault(),i.value=!0}function u(c){c.preventDefault(),i.value=!1}function f(){o.value?.click()}return(c,d)=>(R(),re("div",{class:ge(k(fe)("w-full",n.class))},[$("div",{class:ge(k(fe)("relative border-2 border-dashed rounded-lg p-8 transition-all duration-200 cursor-pointer","hover:border-primary/50 hover:bg-primary/5",i.value?"border-primary bg-primary/10":"border-muted-foreground/25")),onClick:f,onDrop:a,onDragover:s,onDragleave:u},[$("input",{ref_key:"fileInputRef",ref:o,type:"file",accept:e.accept,multiple:e.multiple,class:"hidden",onChange:l},null,40,Hf),$("div",Uf,[$("div",{class:ge(k(fe)("p-4 rounded-full transition-colors duration-200",i.value?"bg-primary/20":"bg-muted"))},[D(k(Lo),{class:ge(k(fe)("w-8 h-8 transition-colors duration-200",i.value?"text-primary":"text-muted-foreground"))},null,8,["class"])],2),$("div",Wf,[$("p",Yf,[i.value?(R(),re("span",Gf,"éæ¾ä»¥ä¸ä¼ æä»¶")):(R(),re("span",Qf,"ç¹å»æææ½æä»¶å°æ­¤å¤"))]),$("p",Xf," æ¯æ "+ae(e.accept)+" æ ¼å¼"+ae(e.multiple?"ï¼å¯å¤é":""),1)])])],34)],2))}}),Kf=J({__name:"Progress",props:{modelValue:{default:0},max:{},getValueLabel:{},getValueText:{},asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,n=Tt(t,"class");return(r,i)=>(R(),H(k(Ji),Z({"data-slot":"progress"},k(n),{class:k(fe)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",t.class)}),{default:I(()=>[D(k(Zi),{"data-slot":"progress-indicator",class:"bg-primary h-full w-full flex-1 transition-all",style:Xe(`transform: translateX(-${100-(t.modelValue??0)}%);`)},null,8,["style"])]),_:1},16,["class"]))}}),Zf={class:"flex items-center justify-between"},eh={class:"flex items-center gap-3 min-w-0"},th=["title"],nh={class:"flex items-center gap-2 flex-shrink-0"},rh={class:"space-y-1"},ih={class:"flex justify-between text-xs text-muted-foreground"},oh={class:"font-medium"},lh={key:0,class:"text-xs text-muted-foreground text-center pt-1"},ah=J({__name:"TranslationProgress",props:{progress:{default:0},status:{default:"idle"},fileName:{default:""},class:{}},setup(e){const t=e,n=K(()=>Math.min(100,Math.max(0,t.progress))),r=K(()=>{switch(t.status){case"translating":return{icon:Ri,iconClass:"animate-spin text-primary",text:"ç¿»è¯ä¸­...",textClass:"text-primary",progressClass:"bg-primary"};case"completed":return{icon:wr,iconClass:"text-green-500",text:"ç¿»è¯å®æ",textClass:"text-green-600",progressClass:"bg-green-500"};case"error":return{icon:Cr,iconClass:"text-destructive",text:"ç¿»è¯å¤±è´¥",textClass:"text-destructive",progressClass:"bg-destructive"};default:return{icon:vt,iconClass:"text-muted-foreground",text:"ç­å¾å¼å§",textClass:"text-muted-foreground",progressClass:"bg-muted-foreground"}}}),i=K(()=>t.status==="translating");return(o,l)=>(R(),H(k(nt),{class:ge(k(fe)("w-full",t.class))},{default:I(()=>[D(k(bt),{class:"p-4 space-y-3"},{default:I(()=>[$("div",Zf,[$("div",eh,[D(k(vt),{class:"w-5 h-5 text-muted-foreground flex-shrink-0"}),$("span",{class:"text-sm font-medium truncate",title:e.fileName},ae(e.fileName||"æªéæ©æä»¶"),9,th)]),$("div",nh,[(R(),H(kr(r.value.icon),{class:ge(k(fe)("w-4 h-4",r.value.iconClass))},null,8,["class"])),$("span",{class:ge(k(fe)("text-sm font-medium",r.value.textClass))},ae(r.value.text),3)])]),$("div",rh,[D(k(Kf),{"model-value":n.value,class:ge(k(fe)("h-2 transition-all duration-300",i.value&&"animate-pulse"))},{default:I(()=>[$("div",{class:ge(k(fe)("h-full transition-all duration-300 rounded-full",r.value.progressClass)),style:Xe({width:`${n.value}%`})},null,6)]),_:1},8,["model-value","class"]),$("div",ih,[l[0]||(l[0]=$("span",null,"è¿åº¦",-1)),$("span",oh,ae(n.value)+"%",1)])]),i.value?(R(),re("div",lh," æ­£å¨ç¿»è¯ï¼è¯·ç¨å... ")):Le("",!0)]),_:1})]),_:1},8,["class"]))}}),sh=J({__name:"ScrollBar",props:{orientation:{default:"vertical"},forceMount:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,n=Tt(t,"class");return(r,i)=>(R(),H(k(vo),Z({"data-slot":"scroll-area-scrollbar"},k(n),{class:k(fe)("flex touch-none p-px transition-colors select-none",e.orientation==="vertical"&&"h-full w-2.5 border-l border-l-transparent",e.orientation==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",t.class)}),{default:I(()=>[D(k(To),{"data-slot":"scroll-area-thumb",class:"bg-border relative flex-1 rounded-full"})]),_:1},16,["class"]))}}),Zt=J({__name:"ScrollArea",props:{type:{},dir:{},scrollHideDelay:{},asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,n=Tt(t,"class");return(r,i)=>(R(),H(k(no),Z({"data-slot":"scroll-area"},k(n),{class:k(fe)("relative",t.class)}),{default:I(()=>[D(k(zo),{"data-slot":"scroll-area-viewport",class:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1"},{default:I(()=>[X(r.$slots,"default")]),_:3}),D(sh),D(k(lo))]),_:3},16,["class"]))}}),en=J({__name:"Badge",props:{asChild:{type:Boolean},as:{},variant:{},class:{}},setup(e){const t=e,n=Tt(t,"class");return(r,i)=>(R(),H(k(Te),Z({"data-slot":"badge",class:k(fe)(k(uh)({variant:e.variant}),t.class)},k(n)),{default:I(()=>[X(r.$slots,"default")]),_:3},16,["class"]))}}),uh=Di("inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}}),ch={class:"container mx-auto py-6 px-4 max-w-7xl"},fh={class:"mb-8"},hh={class:"text-3xl font-bold tracking-tight flex items-center gap-3"},dh={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},ph={class:"lg:col-span-1 space-y-6"},mh={class:"space-y-2"},gh=["onClick"],xh={class:"flex-1 min-w-0"},yh={class:"text-sm font-medium truncate"},bh={class:"text-xs text-muted-foreground"},kh={class:"mt-4 space-y-2"},wh={class:"lg:col-span-2 space-y-6 min-h-0"},_h={class:"text-center text-muted-foreground"},vh={class:"flex items-center gap-2"},Sh={class:"grid grid-cols-2 gap-4 h-full min-h-0"},Ch={class:"flex flex-col min-h-0"},Eh={class:"p-4 text-sm whitespace-pre-wrap break-words font-mono text-muted-foreground"},Ah={class:"flex flex-col min-h-0"},Th={key:0,class:"p-4 text-sm whitespace-pre-wrap break-words font-mono"},Ih={key:1,class:"h-full flex items-center justify-center text-muted-foreground"},zh={key:0},Ph={key:1,class:"text-destructive"},Fh={key:2},Lh={key:0,class:"mt-4 flex justify-end"},Mh=`You are a professional translator specializing in technical documentation.
Translate the following English Markdown content to Simplified Chinese.

Requirements:
1. Preserve all Markdown formatting (headers, lists, code blocks, links, etc.)
2. Maintain the original document structure
3. Use professional and accurate technical terminology
4. Ensure natural and fluent Chinese expression
5. Do not translate content inside code blocks or inline code
6. Keep all URLs, file paths, and code identifiers unchanged`,Rh=`ä½ æ¯æ¯è¯­è¡¨åè§å¤å®å¨ï¼è´è´£å¤æ­ç¿»è¯æ¯å¦å¯ä»¥å¨æªä½¿ç¨æ¯è¯­è¡¨çæåµä¸è¢«æ¥åã

æ¯ä¸ª item åå«ï¼
- source: è±æåæçæ®µ
- translation: å½åä¸­æç¿»è¯
- missing_terms: æªå½ä¸­çæ¯è¯­è¡¨å¯¹ç§ï¼source -> targetï¼

ä»»å¡ï¼
- å¤æ­è¯¥ç¿»è¯æ¯å¦ä»ç¶åéã
- åªæå¨ç¿»è¯åç¡®ä¸ä½¿ç¨æ¯è¯­è¡¨ä¼æ¾å¾ä¸èªç¶ãå«æ­æä¸æ­£ç¡®æ¶æ acceptã
- å¦æç¿»è¯ä¸åç¡®ï¼æåºè¯¥ä½¿ç¨æ¯è¯­è¡¨ç®æ è¯ï¼æä¸ç¡®å®ï¼è¯· rejectã
- ä¿å®å¤æ­ï¼å®å¯ reject ä»¥ä¾¿éè¯ã

åªè¿åä¸¥æ ¼ JSONï¼æ ¼å¼å¿é¡»ä¸ºï¼
{"decisions": [{"id": <id>, "accept": <true|false>, "reason": <string>}, ...]}`,$h=J({__name:"TranslateView",setup(e){const t=$i(),n=Vi(),r=G([]),i=G(null),o=G(!1),l=K(()=>r.value.length>0),a=K(()=>r.value.some(A=>A.status==="idle"||A.status==="error")&&t.config.apiKey&&t.config.baseUrl),s=K(()=>r.value.some(A=>A.status==="completed")),u=K(()=>r.value.find(A=>A.id===i.value));function f(){return`${Date.now()}-${Math.random().toString(36).substr(2,9)}`}async function c(A){return new Promise((y,S)=>{const L=new FileReader;L.onload=O=>y(O.target?.result),L.onerror=O=>S(O),L.readAsText(A)})}async function d(A){const y=new Set(r.value.map(S=>`${S.file.name}::${S.file.size}::${S.file.lastModified}`));for(const S of A){const L=`${S.name}::${S.size}::${S.lastModified}`;if(!y.has(L))try{const O=await c(S),w={id:f(),file:S,name:S.name,content:O,translatedContent:"",status:"idle",progress:0};r.value.push(w),y.add(L)}catch(O){console.error("è¯»åæä»¶å¤±è´¥:",O)}}r.value.length>0&&!i.value&&(i.value=r.value[0].id)}function h(A){const y=r.value.findIndex(S=>S.id===A);y>-1&&(r.value.splice(y,1),i.value===A&&(i.value=r.value.length>0?r.value[0].id:null))}function x(){r.value=[],i.value=null}async function _(A){if(!t.config.apiKey||!t.config.baseUrl){A.status="error",A.error="è¯·åéç½® API è®¾ç½®";return}A.status="translating",A.progress=0,A.error=void 0;try{const y=await qf(A.content,{config:{base_url:t.config.baseUrl,api_key:t.config.apiKey,model:t.config.modelName,retry_times:3,temperature:.2,max_tokens:2048,timeout_ms:12e4,max_batch_tokens:3e3,max_batch_segments:100},glossary:n.glossary,prompt:Mh,judgePrompt:Rh,translateMarkdownCodeBlocks:t.config.translateMarkdownCodeBlocks,chatCompletion:ji,onProgress:({done:S,total:L})=>{A.progress=Math.round(S/L*100)}});A.translatedContent=y,A.status="completed",A.progress=100}catch(y){console.error("ç¿»è¯å¤±è´¥:",y),A.status="error",A.error=y instanceof Error?y.message:"ç¿»è¯å¤±è´¥",A.progress=0}}async function E(){if(o.value)return;o.value=!0;const A=r.value.filter(y=>y.status==="idle"||y.status==="error");for(const y of A)await _(y);o.value=!1}function g(A){if(!A.translatedContent)return;const y=new Blob([A.translatedContent],{type:"text/markdown"}),S=URL.createObjectURL(y),L=document.createElement("a");L.href=S;const O=A.name.replace(/\.md$/i,"");L.download=`${O}.zh.md`,document.body.appendChild(L),L.click(),document.body.removeChild(L),URL.revokeObjectURL(S)}function C(){r.value.forEach(A=>{A.status==="completed"&&g(A)})}function b(A){switch(A){case"translating":return{icon:Rn,class:"text-primary",label:"ç¿»è¯ä¸­"};case"completed":return{icon:wr,class:"text-green-500",label:"å·²å®æ"};case"error":return{icon:Cr,class:"text-destructive",label:"å¤±è´¥"};default:return{icon:vt,class:"text-muted-foreground",label:"å¾ç¿»è¯"}}}function M(A){if(A===0)return"0 B";const y=1024,S=["B","KB","MB","GB"],L=Math.floor(Math.log(A)/Math.log(y));return parseFloat((A/Math.pow(y,L)).toFixed(2))+" "+S[L]}return(A,y)=>(R(),re("div",ch,[$("div",fh,[$("h1",hh,[D(k(Rn),{class:"w-8 h-8 text-primary"}),y[1]||(y[1]=pe(" Markdown ç¿»è¯ ",-1))]),y[2]||(y[2]=$("p",{class:"text-muted-foreground mt-2"}," ä¸ä¼  Markdown æä»¶ï¼æ¹éç¿»è¯ä¸ºç®ä½ä¸­æ ",-1))]),$("div",dh,[$("div",ph,[D(k(nt),null,{default:I(()=>[D(k(Dt),null,{default:I(()=>[D(k(Bt),{class:"text-lg"},{default:I(()=>[...y[3]||(y[3]=[pe("ä¸ä¼ æä»¶",-1)])]),_:1})]),_:1}),D(k(bt),null,{default:I(()=>[D(Jf,{multiple:"",accept:".md,.markdown,.txt",onSelect:d})]),_:1})]),_:1}),l.value?(R(),H(k(nt),{key:0},{default:I(()=>[D(k(Dt),{class:"flex flex-row items-center justify-between pb-2"},{default:I(()=>[D(k(Bt),{class:"text-lg"},{default:I(()=>[...y[4]||(y[4]=[pe("æä»¶åè¡¨",-1)])]),_:1}),D(k(et),{variant:"ghost",size:"sm",onClick:x,class:"text-muted-foreground hover:text-destructive"},{default:I(()=>[D(k(Fo),{class:"w-4 h-4 mr-1"}),y[5]||(y[5]=pe(" æ¸ç©º ",-1))]),_:1})]),_:1}),D(k(bt),null,{default:I(()=>[D(k(Zt),{class:"h-[300px] pr-4"},{default:I(()=>[$("div",mh,[(R(!0),re(tn,null,Bi(r.value,S=>(R(),re("div",{key:S.id,class:ge(["flex items-center gap-3 p-3 rounded-lg border cursor-pointer transition-all",i.value===S.id?"border-primary bg-primary/5":"border-border hover:border-primary/50 hover:bg-muted/50"]),onClick:L=>i.value=S.id},[(R(),H(kr(b(S.status).icon),{class:ge(["w-5 h-5 flex-shrink-0",b(S.status).class])},null,8,["class"])),$("div",xh,[$("p",yh,ae(S.name),1),$("p",bh,ae(M(S.file.size)),1)]),D(k(en),{variant:S.status==="completed"?"default":"secondary",class:ge(["text-xs flex-shrink-0",S.status==="error"&&"bg-destructive text-destructive-foreground"])},{default:I(()=>[pe(ae(b(S.status).label),1)]),_:2},1032,["variant","class"]),D(k(et),{variant:"ghost",size:"icon",class:"h-7 w-7 flex-shrink-0 opacity-0 group-hover:opacity-100",onClick:Ni(L=>h(S.id),["stop"])},{default:I(()=>[D(k(Oi),{class:"w-4 h-4"})]),_:1},8,["onClick"])],10,gh))),128))])]),_:1}),$("div",kh,[D(k(et),{class:"w-full",disabled:!a.value||o.value,onClick:E},{default:I(()=>[D(k(Po),{class:"w-4 h-4 mr-2"}),pe(" "+ae(o.value?"ç¿»è¯ä¸­...":"å¼å§ç¿»è¯"),1)]),_:1},8,["disabled"]),s.value?(R(),H(k(et),{key:0,variant:"outline",class:"w-full",onClick:C},{default:I(()=>[D(k(Mn),{class:"w-4 h-4 mr-2"}),pe(" ä¸è½½å¨é¨ ("+ae(r.value.filter(S=>S.status==="completed").length)+") ",1)]),_:1})):Le("",!0)])]),_:1})]),_:1})):Le("",!0)]),$("div",wh,[u.value?(R(),re(tn,{key:1},[u.value.status!=="idle"?(R(),H(ah,{key:0,"file-name":u.value.name,status:u.value.status,progress:u.value.progress},null,8,["file-name","status","progress"])):Le("",!0),D(k(nt),{class:"flex-1 overflow-hidden"},{default:I(()=>[D(k(Dt),{class:"flex flex-row items-center justify-between pb-2"},{default:I(()=>[D(k(Bt),{class:"text-lg"},{default:I(()=>[...y[7]||(y[7]=[pe("ç¿»è¯é¢è§",-1)])]),_:1}),$("div",vh,[D(k(en),{variant:"outline"},{default:I(()=>[...y[8]||(y[8]=[pe("åæ",-1)])]),_:1}),D(k(en),{variant:"default"},{default:I(()=>[...y[9]||(y[9]=[pe("è¯æ",-1)])]),_:1})])]),_:1}),D(k(bt),{class:"h-[500px] overflow-hidden"},{default:I(()=>[$("div",Sh,[$("div",Ch,[y[10]||(y[10]=$("label",{class:"text-sm font-medium text-muted-foreground mb-2"},"åæ",-1)),D(k(Zt),{class:"flex-1 min-h-0 border rounded-lg bg-muted/30 overflow-hidden"},{default:I(()=>[$("pre",Eh,ae(u.value.content),1)]),_:1})]),$("div",Ah,[y[11]||(y[11]=$("label",{class:"text-sm font-medium text-muted-foreground mb-2"},"è¯æ",-1)),D(k(Zt),{class:"flex-1 min-h-0 border rounded-lg bg-primary/5 overflow-hidden"},{default:I(()=>[u.value.translatedContent?(R(),re("pre",Th,ae(u.value.translatedContent),1)):(R(),re("div",Ih,[u.value.status==="translating"?(R(),re("p",zh,"ç¿»è¯ä¸­...")):u.value.status==="error"?(R(),re("p",Ph,ae(u.value.error||"ç¿»è¯å¤±è´¥"),1)):(R(),re("p",Fh,"ç­å¾ç¿»è¯"))]))]),_:1})])]),u.value.status==="completed"?(R(),re("div",Lh,[D(k(et),{onClick:y[0]||(y[0]=S=>g(u.value))},{default:I(()=>[D(k(Mn),{class:"w-4 h-4 mr-2"}),pe(" ä¸è½½ "+ae(u.value.name.replace(/\.md$/i,".zh.md")),1)]),_:1})])):Le("",!0)]),_:1})]),_:1})],64)):(R(),H(k(nt),{key:0,class:"h-[600px] flex items-center justify-center"},{default:I(()=>[$("div",_h,[D(k(vt),{class:"w-16 h-16 mx-auto mb-4 opacity-50"}),y[6]||(y[6]=$("p",null,"è¯·ä¸ä¼ æä»¶å¹¶éæ©è¦é¢è§çææ¡£",-1))])]),_:1}))])])]))}});export{$h as default};
